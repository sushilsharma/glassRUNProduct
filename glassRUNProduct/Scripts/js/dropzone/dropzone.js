$(function(){function a(){function b(i,j,k){var l=b.resolve(i);if(null==l){k=k||i,j=j||"root";var m=new Error('Failed to require "'+k+'" from "'+j+'"');throw m.path=k,m.parent=j,m.require=!0,m}var n=b.modules[l];if(!n._resolving&&!n.exports){var o={};o.exports={},o.client=o.component=!0,n._resolving=!0,n.call(this,o.exports,b.relative(l),o),delete n._resolving,n.exports=o.exports}return n.exports}b.modules={},b.aliases={},b.resolve=function(e){"/"===e.charAt(0)&&(e=e.slice(1));for(var f=[e,e+".js",e+".json",e+"/index.js",e+"/index.json"],g=0;g<f.length;g++){var e=f[g];if(b.modules.hasOwnProperty(e)){return e}if(b.aliases.hasOwnProperty(e)){return b.aliases[e]}}},b.normalize=function(e,f){var g=[];if("."!=f.charAt(0)){return f}e=e.split("/"),f=f.split("/");for(var h=0;h<f.length;++h){".."==f[h]?e.pop():"."!=f[h]&&""!=f[h]&&g.push(f[h])}return e.concat(g).join("/")},b.register=function(d,e){b.modules[d]=e},b.alias=function(d,e){if(!b.modules.hasOwnProperty(d)){throw new Error('Failed to alias "'+d+'", it does not exist')}b.aliases[e]=d},b.relative=function(f){function g(d,e){for(var j=d.length;j--;){if(d[j]===e){return j}}return -1}function h(d){var j=h.resolve(d);return b(j,f,d)}var i=b.normalize(f,"..");return h.resolve=function(c){var e=c.charAt(0);if("/"==e){return c.slice(1)}if("."==e){return b.normalize(i,c)}var j=f.split("/"),k=g(j,"deps")+1;return k||(k=0),c=j.slice(0,k+1).join("/")+"/deps/"+c},h.exists=function(c){return b.modules.hasOwnProperty(h.resolve(c))},h},b.register("component-emitter/index.js",function(f,g,h){function i(c){return c?j(c):void 0}function j(c){for(var d in i.prototype){c[d]=i.prototype[d]}return c}h.exports=i,i.prototype.on=function(c,d){return this._callbacks=this._callbacks||{},(this._callbacks[c]=this._callbacks[c]||[]).push(d),this},i.prototype.once=function(e,k){function l(){m.off(e,l),k.apply(this,arguments)}var m=this;return this._callbacks=this._callbacks||{},k._off=l,this.on(e,l),this},i.prototype.off=i.prototype.removeListener=i.prototype.removeAllListeners=function(e,k){this._callbacks=this._callbacks||{};var l=this._callbacks[e];if(!l){return this}if(1==arguments.length){return delete this._callbacks[e],this}var m=l.indexOf(k._off||k);return ~m&&l.splice(m,1),this},i.prototype.emit=function(k){this._callbacks=this._callbacks||{};var l=[].slice.call(arguments,1),m=this._callbacks[k];if(m){m=m.slice(0);for(var n=0,o=m.length;o>n;++n){m[n].apply(this,l)}}return this},i.prototype.listeners=function(c){return this._callbacks=this._callbacks||{},this._callbacks[c]||[]},i.prototype.hasListeners=function(c){return !!this.listeners(c).length}}),b.register("dropzone/index.js",function(d,e,f){f.exports=e("./lib/dropzone.js")}),b.register("dropzone/lib/dropzone.js",function(d,e,f){(function(){var c,n,o,p,q,r,s,t,u={}.hasOwnProperty,v=function(g,h){function i(){this.constructor=g}for(var j in h){u.call(h,j)&&(g[j]=h[j])}return i.prototype=h.prototype,g.prototype=new i,g.__super__=h.prototype,g},w=[].slice;n="undefined"!=typeof Emitter&&null!==Emitter?Emitter:e("emitter"),s=function(){},c=function(g){function h(j,k){var l,m,x;if(this.element=j,this.version=h.version,this.defaultOptions.previewTemplate=this.defaultOptions.previewTemplate.replace(/\n*/g,""),this.clickableElements=[],this.listeners=[],this.files=[],"string"==typeof this.element&&(this.element=document.querySelector(this.element)),!this.element||null==this.element.nodeType){throw new Error("Invalid dropzone element.")}if(h.instances.push(this),this.element.dropzone=this,l=null!=(x=h.optionsForElement(this.element))?x:{},this.options=i({},this.defaultOptions,l,null!=k?k:{}),this.options.forceFallback||!h.isBrowserSupported()){return this.options.fallback.call(this)}if(null==this.options.url&&(this.options.url=this.element.getAttribute("action")),!this.options.url){throw new Error("No URL provided.")}if(this.options.acceptedFiles&&this.options.acceptedMimeTypes){throw new Error("You can't provide both 'acceptedFiles' and 'acceptedMimeTypes'. 'acceptedMimeTypes' is deprecated.")}this.options.acceptedMimeTypes&&(this.options.acceptedFiles=this.options.acceptedMimeTypes,delete this.options.acceptedMimeTypes),this.options.method=this.options.method.toUpperCase(),(m=this.getExistingFallback())&&m.parentNode&&m.parentNode.removeChild(m),this.previewsContainer=this.options.previewsContainer?h.getElement(this.options.previewsContainer,"previewsContainer"):this.element,this.options.clickable&&(this.clickableElements=this.options.clickable===!0?[this.element]:h.getElements(this.options.clickable,"clickable")),this.init()}var i;return v(h,g),h.prototype.events=["drop","dragstart","dragend","dragenter","dragover","dragleave","addedfile","removedfile","thumbnail","error","errormultiple","processing","processingmultiple","uploadprogress","totaluploadprogress","sending","sendingmultiple","success","successmultiple","canceled","canceledmultiple","complete","completemultiple","reset","maxfilesexceeded","maxfilesreached"],h.prototype.defaultOptions={url:null,method:"post",withCredentials:!1,parallelUploads:2,uploadMultiple:!1,maxFilesize:256,paramName:"file",createImageThumbnails:!0,maxThumbnailFilesize:10,thumbnailWidth:100,thumbnailHeight:100,maxFiles:null,params:{},clickable:!0,ignoreHiddenFiles:!0,acceptedFiles:null,acceptedMimeTypes:null,autoProcessQueue:!0,addRemoveLinks:!1,previewsContainer:null,dictDefaultMessage:"Drop files here to upload",dictFallbackMessage:"Your browser does not support drag'n'drop file uploads.",dictFallbackText:"Please use the fallback form below to upload your files like in the olden days.",dictFileTooBig:"File is too big ({{filesize}}MiB). Max filesize: {{maxFilesize}}MiB.",dictInvalidFileType:"You can't upload files of this type.",dictResponseError:"Server responded with {{statusCode}} code.",dictCancelUpload:"Cancel upload",dictCancelUploadConfirmation:"Are you sure you want to cancel this upload?",dictRemoveFile:"Remove file",dictRemoveFileConfirmation:null,dictMaxFilesExceeded:"You can not upload any more files.",accept:function(j,k){return k()},init:function(){return s},forceFallback:!1,fallback:function(){var j,k,l,m,x,y;for(this.element.className=""+this.element.className+" dz-browser-not-supported",y=this.element.getElementsByTagName("div"),m=0,x=y.length;x>m;m++){j=y[m],/(^| )dz-message($| )/.test(j.className)&&(k=j,j.className="dz-message")}return k||(k=h.createElement('<div class="dz-message"><span></span></div>'),this.element.appendChild(k)),l=k.getElementsByTagName("span")[0],l&&(l.textContent=this.options.dictFallbackMessage),this.element.appendChild(this.getFallbackForm())},resize:function(j){var k,l,m;return k={srcX:0,srcY:0,srcWidth:j.width,srcHeight:j.height},l=j.width/j.height,m=this.options.thumbnailWidth/this.options.thumbnailHeight,j.height<this.options.thumbnailHeight||j.width<this.options.thumbnailWidth?(k.trgHeight=k.srcHeight,k.trgWidth=k.srcWidth):l>m?(k.srcHeight=j.height,k.srcWidth=k.srcHeight*m):(k.srcWidth=j.width,k.srcHeight=k.srcWidth/m),k.srcX=(j.width-k.srcWidth)/2,k.srcY=(j.height-k.srcHeight)/2,k},drop:function(){return this.element.classList.remove("dz-drag-hover")},dragstart:s,dragend:function(){return this.element.classList.remove("dz-drag-hover")},dragenter:function(){return this.element.classList.add("dz-drag-hover")},dragover:function(){return this.element.classList.add("dz-drag-hover")},dragleave:function(){return this.element.classList.remove("dz-drag-hover")},paste:s,reset:function(){return this.element.classList.remove("dz-started")},addedfile:function(x){var y,z,A,B,C,D,E,F,G,H,I,J,K,L=this;for(this.element===this.previewsContainer&&this.element.classList.add("dz-started"),x.previewElement=h.createElement(this.options.previewTemplate.trim()),x.previewTemplate=x.previewElement,this.previewsContainer.appendChild(x.previewElement),H=x.previewElement.querySelectorAll("[data-dz-name]"),B=0,E=H.length;E>B;B++){y=H[B],y.textContent=x.name}for(I=x.previewElement.querySelectorAll("[data-dz-size]"),C=0,F=I.length;F>C;C++){y=I[C],y.innerHTML=this.filesize(x.size)}for(this.options.addRemoveLinks&&(x._removeLink=h.createElement('<a class="dz-remove" href="javascript:undefined;" data-dz-remove>'+this.options.dictRemoveFile+"</a>"),x.previewElement.appendChild(x._removeLink)),z=function(j){return j.preventDefault(),j.stopPropagation(),x.status===h.UPLOADING?h.confirm(L.options.dictCancelUploadConfirmation,function(){return L.removeFile(x)}):L.options.dictRemoveFileConfirmation?h.confirm(L.options.dictRemoveFileConfirmation,function(){return L.removeFile(x)}):L.removeFile(x)},J=x.previewElement.querySelectorAll("[data-dz-remove]"),K=[],D=0,G=J.length;G>D;D++){A=J[D],K.push(A.addEventListener("click",z))}return K},removedfile:function(j){var k;return null!=(k=j.previewElement)&&k.parentNode.removeChild(j.previewElement),this._updateMaxFilesReachedClass()},thumbnail:function(j,k){var l,m,x,y,z;for(j.previewElement.classList.remove("dz-file-preview"),j.previewElement.classList.add("dz-image-preview"),y=j.previewElement.querySelectorAll("[data-dz-thumbnail]"),z=[],m=0,x=y.length;x>m;m++){l=y[m],l.alt=j.name,z.push(l.src=k)}return z},error:function(j,k){var l,m,x,y,z;for(j.previewElement.classList.add("dz-error"),"String"!=typeof k&&k.error&&(k=k.error),y=j.previewElement.querySelectorAll("[data-dz-errormessage]"),z=[],m=0,x=y.length;x>m;m++){l=y[m],z.push(l.textContent=k)}return z},errormultiple:s,processing:function(j){return j.previewElement.classList.add("dz-processing"),j._removeLink?j._removeLink.textContent=this.options.dictCancelUpload:void 0},processingmultiple:s,uploadprogress:function(j,k){var l,m,x,y,z;for(y=j.previewElement.querySelectorAll("[data-dz-uploadprogress]"),z=[],m=0,x=y.length;x>m;m++){l=y[m],z.push(l.style.width=""+k+"%")}return z},totaluploadprogress:s,sending:s,sendingmultiple:s,success:function(j){return j.previewElement.classList.add("dz-success")},successmultiple:s,canceled:function(j){return this.emit("error",j,"Upload canceled.")},canceledmultiple:s,complete:function(j){return j._removeLink?j._removeLink.textContent=this.options.dictRemoveFile:void 0},completemultiple:s,maxfilesexceeded:s,maxfilesreached:s,previewTemplate:'<div class="dz-preview dz-file-preview">\n  <div class="dz-details">\n    <div class="dz-filename"><span data-dz-name></span></div>\n    <div class="dz-size" data-dz-size></div>\n    <img data-dz-thumbnail />\n  </div>\n  <div class="dz-progress"><span class="dz-upload" data-dz-uploadprogress></span></div>\n  <div class="dz-success-mark"><span>?</span></div>\n  <div class="dz-error-mark"><span>?</span></div>\n  <div class="dz-error-message"><span data-dz-errormessage></span></div>\n</div>'},i=function(){var j,k,l,m,x,y,z;for(m=arguments[0],l=2<=arguments.length?w.call(arguments,1):[],y=0,z=l.length;z>y;y++){k=l[y];for(j in k){x=k[j],m[j]=x}}return m},h.prototype.getAcceptedFiles=function(){var j,k,l,m,x;for(m=this.files,x=[],k=0,l=m.length;l>k;k++){j=m[k],j.accepted&&x.push(j)}return x},h.prototype.getRejectedFiles=function(){var j,k,l,m,x;for(m=this.files,x=[],k=0,l=m.length;l>k;k++){j=m[k],j.accepted||x.push(j)}return x},h.prototype.getQueuedFiles=function(){var j,k,l,m,x;for(m=this.files,x=[],k=0,l=m.length;l>k;k++){j=m[k],j.status===h.QUEUED&&x.push(j)}return x},h.prototype.getUploadingFiles=function(){var j,k,l,m,x;for(m=this.files,x=[],k=0,l=m.length;l>k;k++){j=m[k],j.status===h.UPLOADING&&x.push(j)}return x},h.prototype.init=function(){var j,k,l,m,x,y,z,A=this;for("form"===this.element.tagName&&this.element.setAttribute("enctype","multipart/form-data"),this.element.classList.contains("dropzone")&&!this.element.querySelector(".dz-message")&&this.element.appendChild(h.createElement('<div class="dz-default dz-message"><span>'+this.options.dictDefaultMessage+"</span></div>")),this.clickableElements.length&&(l=function(){return A.hiddenFileInput&&document.body.removeChild(A.hiddenFileInput),A.hiddenFileInput=document.createElement("input"),A.hiddenFileInput.setAttribute("type","file"),(null==A.options.maxFiles||A.options.maxFiles>1)&&A.hiddenFileInput.setAttribute("multiple","multiple"),null!=A.options.acceptedFiles&&A.hiddenFileInput.setAttribute("accept",A.options.acceptedFiles),A.hiddenFileInput.style.visibility="hidden",A.hiddenFileInput.style.position="absolute",A.hiddenFileInput.style.top="0",A.hiddenFileInput.style.left="0",A.hiddenFileInput.style.height="0",A.hiddenFileInput.style.width="0",document.body.appendChild(A.hiddenFileInput),A.hiddenFileInput.addEventListener("change",function(){var B,C,D,E;if(C=A.hiddenFileInput.files,C.length){for(D=0,E=C.length;E>D;D++){B=C[D],A.addFile(B)}}return l()})},l()),this.URL=null!=(y=window.URL)?y:window.webkitURL,z=this.events,m=0,x=z.length;x>m;m++){j=z[m],this.on(j,this.options[j])}return this.on("uploadprogress",function(){return A.updateTotalUploadProgress()}),this.on("removedfile",function(){return A.updateTotalUploadProgress()}),this.on("canceled",function(B){return A.emit("complete",B)}),this.on("complete",function(){return 0===A.getUploadingFiles().length&&0===A.getQueuedFiles().length?setTimeout(function(){return A.emit("queuecomplete")},0):void 0}),k=function(B){return B.stopPropagation(),B.preventDefault?B.preventDefault():B.returnValue=!1},this.listeners=[{element:this.element,events:{dragstart:function(B){return A.emit("dragstart",B)},dragenter:function(B){return k(B),A.emit("dragenter",B)},dragover:function(B){var C;try{C=B.dataTransfer.effectAllowed}catch(D){}return B.dataTransfer.dropEffect="move"===C||"linkMove"===C?"move":"copy",k(B),A.emit("dragover",B)},dragleave:function(B){return A.emit("dragleave",B)},drop:function(B){return k(B),A.drop(B)},dragend:function(B){return A.emit("dragend",B)}}}],this.clickableElements.forEach(function(B){return A.listeners.push({element:B,events:{click:function(C){return B!==A.element||C.target===A.element||h.elementInside(C.target,A.element.querySelector(".dz-message"))?A.hiddenFileInput.click():void 0}}})}),this.enable(),this.options.init.call(this)},h.prototype.destroy=function(){var j;return this.disable(),this.removeAllFiles(!0),(null!=(j=this.hiddenFileInput)?j.parentNode:void 0)&&(this.hiddenFileInput.parentNode.removeChild(this.hiddenFileInput),this.hiddenFileInput=null),delete this.element.dropzone,h.instances.splice(h.instances.indexOf(this),1)},h.prototype.updateTotalUploadProgress=function(){var j,k,l,m,x,y,z,A;if(m=0,l=0,j=this.getAcceptedFiles(),j.length){for(A=this.getAcceptedFiles(),y=0,z=A.length;z>y;y++){k=A[y],m+=k.upload.bytesSent,l+=k.upload.total}x=100*m/l}else{x=100}return this.emit("totaluploadprogress",x,l,m)},h.prototype.getFallbackForm=function(){var j,k,l,m;return(j=this.getExistingFallback())?j:(l='<div class="dz-fallback">',this.options.dictFallbackText&&(l+="<p>"+this.options.dictFallbackText+"</p>"),l+='<input type="file" name="'+this.options.paramName+(this.options.uploadMultiple?"[]":"")+'" '+(this.options.uploadMultiple?'multiple="multiple"':void 0)+' /><input type="submit" value="Upload!"></div>',k=h.createElement(l),"FORM"!==this.element.tagName?(m=h.createElement('<form action="'+this.options.url+'" enctype="multipart/form-data" method="'+this.options.method+'"></form>'),m.appendChild(k)):(this.element.setAttribute("enctype","multipart/form-data"),this.element.setAttribute("method",this.options.method)),null!=m?m:k)},h.prototype.getExistingFallback=function(){var j,k,l,m,x,y;for(k=function(z){var A,B,C;for(B=0,C=z.length;C>B;B++){if(A=z[B],/(^| )fallback($| )/.test(A.className)){return A}}},y=["div","form"],m=0,x=y.length;x>m;m++){if(l=y[m],j=k(this.element.getElementsByTagName(l))){return j}}},h.prototype.setupEventListeners=function(){var j,k,l,m,x,y,z;for(y=this.listeners,z=[],m=0,x=y.length;x>m;m++){j=y[m],z.push(function(){var A,B;A=j.events,B=[];for(k in A){l=A[k],B.push(j.element.addEventListener(k,l,!1))}return B}())}return z},h.prototype.removeEventListeners=function(){var j,k,l,m,x,y,z;for(y=this.listeners,z=[],m=0,x=y.length;x>m;m++){j=y[m],z.push(function(){var A,B;A=j.events,B=[];for(k in A){l=A[k],B.push(j.element.removeEventListener(k,l,!1))}return B}())}return z},h.prototype.disable=function(){var j,k,l,m,x;for(this.clickableElements.forEach(function(y){return y.classList.remove("dz-clickable")}),this.removeEventListeners(),m=this.files,x=[],k=0,l=m.length;l>k;k++){j=m[k],x.push(this.cancelUpload(j))}return x},h.prototype.enable=function(){return this.clickableElements.forEach(function(j){return j.classList.add("dz-clickable")}),this.setupEventListeners()},h.prototype.filesize=function(j){var k;return j>=109951162777.6?(j/=109951162777.6,k="TiB"):j>=107374182.4?(j/=107374182.4,k="GiB"):j>=104857.6?(j/=104857.6,k="MiB"):j>=102.4?(j/=102.4,k="KiB"):(j=10*j,k="b"),"<strong>"+Math.round(j)/10+"</strong> "+k},h.prototype._updateMaxFilesReachedClass=function(){return null!=this.options.maxFiles&&this.getAcceptedFiles().length>=this.options.maxFiles?(this.getAcceptedFiles().length===this.options.maxFiles&&this.emit("maxfilesreached",this.files),this.element.classList.add("dz-max-files-reached")):this.element.classList.remove("dz-max-files-reached")},h.prototype.drop=function(j){var k,l;j.dataTransfer&&(this.emit("drop",j),k=j.dataTransfer.files,k.length&&(l=j.dataTransfer.items,l&&l.length&&null!=l[0].webkitGetAsEntry?this._addFilesFromItems(l):this.handleFiles(k)))},h.prototype.paste=function(j){var k,l;if(null!=(null!=j?null!=(l=j.clipboardData)?l.items:void 0:void 0)){return this.emit("paste",j),k=j.clipboardData.items,k.length?this._addFilesFromItems(k):void 0}},h.prototype.handleFiles=function(j){var k,l,m,x;for(x=[],l=0,m=j.length;m>l;l++){k=j[l],x.push(this.addFile(k))}return x},h.prototype._addFilesFromItems=function(j){var k,l,m,x,y;for(y=[],m=0,x=j.length;x>m;m++){l=j[m],null!=l.webkitGetAsEntry&&(k=l.webkitGetAsEntry())?k.isFile?y.push(this.addFile(l.getAsFile())):k.isDirectory?y.push(this._addFilesFromDirectory(k,k.name)):y.push(void 0):null!=l.getAsFile?null==l.kind||"file"===l.kind?y.push(this.addFile(l.getAsFile())):y.push(void 0):y.push(void 0)}return y},h.prototype._addFilesFromDirectory=function(j,k){var l,m,x=this;return l=j.createReader(),m=function(y){var z,A,B;for(A=0,B=y.length;B>A;A++){z=y[A],z.isFile?z.file(function(C){return x.options.ignoreHiddenFiles&&"."===C.name.substring(0,1)?void 0:(C.fullPath=""+k+"/"+C.name,x.addFile(C))}):z.isDirectory&&x._addFilesFromDirectory(z,""+k+"/"+z.name)}},l.readEntries(m,function(y){return"undefined"!=typeof console&&null!==console?"function"==typeof console.log?console.log(y):void 0:void 0})},h.prototype.accept=function(j,k){return j.size>1024*this.options.maxFilesize*1024?k(this.options.dictFileTooBig.replace("{{filesize}}",Math.round(j.size/1024/10.24)/100).replace("{{maxFilesize}}",this.options.maxFilesize)):h.isValidFile(j,this.options.acceptedFiles)?null!=this.options.maxFiles&&this.getAcceptedFiles().length>=this.options.maxFiles?(k(this.options.dictMaxFilesExceeded.replace("{{maxFiles}}",this.options.maxFiles)),this.emit("maxfilesexceeded",j)):this.options.accept.call(this,j,k):k(this.options.dictInvalidFileType)},h.prototype.addFile=function(j){var k=this;return j.upload={progress:0,total:j.size,bytesSent:0},this.files.push(j),j.status=h.ADDED,this.emit("addedfile",j),this._enqueueThumbnail(j),this.accept(j,function(l){return l?(j.accepted=!1,k._errorProcessing([j],l)):k.enqueueFile(j),k._updateMaxFilesReachedClass()})},h.prototype.enqueueFiles=function(j){var k,l,m;for(l=0,m=j.length;m>l;l++){k=j[l],this.enqueueFile(k)}return null},h.prototype.enqueueFile=function(j){var k=this;if(j.accepted=!0,j.status!==h.ADDED){throw new Error("This file can't be queued because it has already been processed or was rejected.")}return j.status=h.QUEUED,this.options.autoProcessQueue?setTimeout(function(){return k.processQueue()},0):void 0},h.prototype._thumbnailQueue=[],h.prototype._processingThumbnail=!1,h.prototype._enqueueThumbnail=function(j){var k=this;return this.options.createImageThumbnails&&j.type.match(/image.*/)&&j.size<=1024*this.options.maxThumbnailFilesize*1024?(this._thumbnailQueue.push(j),setTimeout(function(){return k._processThumbnailQueue()},0)):void 0},h.prototype._processThumbnailQueue=function(){var j=this;if(!this._processingThumbnail&&0!==this._thumbnailQueue.length){return this._processingThumbnail=!0,this.createThumbnail(this._thumbnailQueue.shift(),function(){return j._processingThumbnail=!1,j._processThumbnailQueue()})}},h.prototype.removeFile=function(j){return j.status===h.UPLOADING&&this.cancelUpload(j),this.files=t(this.files,j),this.emit("removedfile",j),0===this.files.length?this.emit("reset"):void 0},h.prototype.removeAllFiles=function(j){var k,l,m,x;for(null==j&&(j=!1),x=this.files.slice(),l=0,m=x.length;m>l;l++){k=x[l],(k.status!==h.UPLOADING||j)&&this.removeFile(k)}return null},h.prototype.createThumbnail=function(j,k){var l,m=this;return l=new FileReader,l.onload=function(){var x;return x=document.createElement("img"),x.onload=function(){var y,z,A,B,C,D,E,F;return j.width=x.width,j.height=x.height,A=m.options.resize.call(m,j),null==A.trgWidth&&(A.trgWidth=m.options.thumbnailWidth),null==A.trgHeight&&(A.trgHeight=m.options.thumbnailHeight),y=document.createElement("canvas"),z=y.getContext("2d"),y.width=A.trgWidth,y.height=A.trgHeight,r(z,x,null!=(C=A.srcX)?C:0,null!=(D=A.srcY)?D:0,A.srcWidth,A.srcHeight,null!=(E=A.trgX)?E:0,null!=(F=A.trgY)?F:0,A.trgWidth,A.trgHeight),B=y.toDataURL("image/png"),m.emit("thumbnail",j,B),null!=k?k():void 0},x.src=l.result},l.readAsDataURL(j)},h.prototype.processQueue=function(){var j,k,l,m;if(k=this.options.parallelUploads,l=this.getUploadingFiles().length,j=l,!(l>=k)&&(m=this.getQueuedFiles(),m.length>0)){if(this.options.uploadMultiple){return this.processFiles(m.slice(0,k-l))}for(;k>j;){if(!m.length){return}this.processFile(m.shift()),j++}}},h.prototype.processFile=function(j){return this.processFiles([j])},h.prototype.processFiles=function(j){var k,l,m;for(l=0,m=j.length;m>l;l++){k=j[l],k.processing=!0,k.status=h.UPLOADING,this.emit("processing",k)}return this.options.uploadMultiple&&this.emit("processingmultiple",j),this.uploadFiles(j)},h.prototype._getFilesWithXhr=function(j){var k,l;return l=function(){var m,x,y,z;for(y=this.files,z=[],m=0,x=y.length;x>m;m++){k=y[m],k.xhr===j&&z.push(k)}return z}.call(this)},h.prototype.cancelUpload=function(j){var k,l,m,x,y,z,A;if(j.status===h.UPLOADING){for(l=this._getFilesWithXhr(j.xhr),m=0,y=l.length;y>m;m++){k=l[m],k.status=h.CANCELED}for(j.xhr.abort(),x=0,z=l.length;z>x;x++){k=l[x],this.emit("canceled",k)}this.options.uploadMultiple&&this.emit("canceledmultiple",l)}else{((A=j.status)===h.ADDED||A===h.QUEUED)&&(j.status=h.CANCELED,this.emit("canceled",j),this.options.uploadMultiple&&this.emit("canceledmultiple",[j]))}return this.options.autoProcessQueue?this.processQueue():void 0},h.prototype.uploadFile=function(j){return this.uploadFiles([j])},h.prototype.uploadFiles=function(J){var N,P,R,T,V,X,Z,aa,ab,ac,ad,ae,af,ag,ah,ai,aj,ak,al,am,an,ao,ap,K,L,M,O,Q,S,U,W,Y=this;for(ai=new XMLHttpRequest,aj=0,an=J.length;an>aj;aj++){N=J[aj],N.xhr=ai}ai.open(this.options.method,this.options.url,!0),ai.withCredentials=!!this.options.withCredentials,af=null,R=function(){var j,k,l;for(l=[],j=0,k=J.length;k>j;j++){N=J[j],l.push(Y._errorProcessing(J,af||Y.options.dictResponseError.replace("{{statusCode}}",ai.status),ai))}return l},ag=function(m){var x,y,z,A,B,C,D,E,F;if(null!=m){for(y=100*m.loaded/m.total,z=0,C=J.length;C>z;z++){N=J[z],N.upload={progress:y,total:m.total,bytesSent:m.loaded}}}else{for(x=!0,y=100,A=0,D=J.length;D>A;A++){N=J[A],(100!==N.upload.progress||N.upload.bytesSent!==N.upload.total)&&(x=!1),N.upload.progress=y,N.upload.bytesSent=N.upload.total}if(x){return}}for(F=[],B=0,E=J.length;E>B;B++){N=J[B],F.push(Y.emit("uploadprogress",N,y,N.upload.bytesSent))}return F},ai.onload=function(j){var k;if(J[0].status!==h.CANCELED&&4===ai.readyState){if(af=ai.responseText,ai.getResponseHeader("content-type")&&~ai.getResponseHeader("content-type").indexOf("application/json")){try{af=JSON.parse(af)}catch(l){j=l,af="Invalid JSON response from server."}}return ag(),200<=(k=ai.status)&&300>k?Y._finished(J,af,j):R()}},ai.onerror=function(){return J[0].status!==h.CANCELED?R():void 0},ae=null!=(O=ai.upload)?O:ai,ae.onprogress=ag,X={Accept:"application/json","Cache-Control":"no-cache","X-Requested-With":"XMLHttpRequest"},this.options.headers&&i(X,this.options.headers);for(T in X){V=X[T],ai.setRequestHeader(T,V)}if(P=new FormData,this.options.params){Q=this.options.params;for(ac in Q){ah=Q[ac],P.append(ac,ah)}}for(ak=0,ao=J.length;ao>ak;ak++){N=J[ak],this.emit("sending",N,ai,P)}if(this.options.uploadMultiple&&this.emit("sendingmultiple",J,ai,P),"FORM"===this.element.tagName){for(S=this.element.querySelectorAll("input, textarea, select, button"),al=0,ap=S.length;ap>al;al++){if(Z=S[al],aa=Z.getAttribute("name"),ab=Z.getAttribute("type"),"SELECT"===Z.tagName&&Z.hasAttribute("multiple")){for(U=Z.options,am=0,K=U.length;K>am;am++){ad=U[am],ad.selected&&P.append(aa,ad.value)}}else{(!ab||"checkbox"!==(W=ab.toLowerCase())&&"radio"!==W||Z.checked)&&P.append(aa,Z.value)}}}for(M=0,L=J.length;L>M;M++){N=J[M],P.append(""+this.options.paramName+(this.options.uploadMultiple?"[]":""),N,N.name)}return ai.send(P)},h.prototype._finished=function(j,k,l){var m,x,y;for(x=0,y=j.length;y>x;x++){m=j[x],m.status=h.SUCCESS,this.emit("success",m,k,l),this.emit("complete",m)}return this.options.uploadMultiple&&(this.emit("successmultiple",j,k,l),this.emit("completemultiple",j)),this.options.autoProcessQueue?this.processQueue():void 0},h.prototype._errorProcessing=function(j,k,l){var m,x,y;for(x=0,y=j.length;y>x;x++){m=j[x],m.status=h.ERROR,this.emit("error",m,k,l),this.emit("complete",m)}return this.options.uploadMultiple&&(this.emit("errormultiple",j,k,l),this.emit("completemultiple",j)),this.options.autoProcessQueue?this.processQueue():void 0},h}(n),c.version="3.8.4",c.options={},c.optionsForElement=function(g){return g.getAttribute("id")?c.options[o(g.getAttribute("id"))]:void 0},c.instances=[],c.forElement=function(g){if("string"==typeof g&&(g=document.querySelector(g)),null==(null!=g?g.dropzone:void 0)){throw new Error("No Dropzone found for given element. This is probably because you're trying to access it before Dropzone had the time to initialize. Use the `init` option to setup any additional observers on your Dropzone.")}return g.dropzone},c.autoDiscover=!0,c.discover=function(){var h,i,j,k,l,m;for(document.querySelectorAll?j=document.querySelectorAll(".dropzone"):(j=[],h=function(g){var x,y,z,A;for(A=[],y=0,z=g.length;z>y;y++){x=g[y],/(^| )dropzone($| )/.test(x.className)?A.push(j.push(x)):A.push(void 0)}return A},h(document.getElementsByTagName("div")),h(document.getElementsByTagName("form"))),m=[],k=0,l=j.length;l>k;k++){i=j[k],c.optionsForElement(i)!==!1?m.push(new c(i)):m.push(void 0)}return m},c.blacklistedBrowsers=[/opera.*Macintosh.*version\/12/i],c.isBrowserSupported=function(){var g,h,i,j,k;if(g=!0,window.File&&window.FileReader&&window.FileList&&window.Blob&&window.FormData&&document.querySelector){if("classList" in document.createElement("a")){for(k=c.blacklistedBrowsers,i=0,j=k.length;j>i;i++){h=k[i],h.test(navigator.userAgent)&&(g=!1)}}else{g=!1}}else{g=!1}return g},t=function(g,h){var i,j,k,l;for(l=[],j=0,k=g.length;k>j;j++){i=g[j],i!==h&&l.push(i)}return l},o=function(g){return g.replace(/[\-_](\w)/g,function(h){return h[1].toUpperCase()})},c.createElement=function(g){var h;return h=document.createElement("div"),h.innerHTML=g,h.childNodes[0]},c.elementInside=function(g,h){if(g===h){return !0}for(;g=g.parentNode;){if(g===h){return !0}}return !1},c.getElement=function(g,h){var i;if("string"==typeof g?i=document.querySelector(g):null!=g.nodeType&&(i=g),null==i){throw new Error("Invalid `"+h+"` option provided. Please provide a CSS selector or a plain HTML element.")}return i},c.getElements=function(l,m){var x,y,z,A,B,C,D,E;if(l instanceof Array){z=[];try{for(A=0,C=l.length;C>A;A++){y=l[A],z.push(this.getElement(y,m))}}catch(F){x=F,z=null}}else{if("string"==typeof l){for(z=[],E=document.querySelectorAll(l),B=0,D=E.length;D>B;B++){y=E[B],z.push(y)}}else{null!=l.nodeType&&(z=[l])}}if(null==z||!z.length){throw new Error("Invalid `"+m+"` option provided. Please provide a CSS selector, a plain HTML element or a list of those.")}return z},c.confirm=function(g,h,i){return window.confirm(g)?h():null!=i?i():void 0},c.isValidFile=function(h,i){var j,k,l,m,x;if(!i){return !0}for(i=i.split(","),k=h.type,j=k.replace(/\/.*$/,""),m=0,x=i.length;x>m;m++){if(l=i[m],l=l.trim(),"."===l.charAt(0)){if(-1!==h.name.toLowerCase().indexOf(l.toLowerCase(),h.name.length-l.length)){return !0}}else{if(/\/\*$/.test(l)){if(j===l.replace(/\/.*$/,"")){return !0}}else{if(k===l){return !0}}}}return !1},"undefined"!=typeof jQuery&&null!==jQuery&&(jQuery.fn.dropzone=function(g){return this.each(function(){return new c(this,g)})}),"undefined"!=typeof f&&null!==f?f.exports=c:window.Dropzone=c,c.ADDED="added",c.QUEUED="queued",c.ACCEPTED=c.QUEUED,c.UPLOADING="uploading",c.PROCESSING=c.UPLOADING,c.CANCELED="canceled",c.ERROR="error",c.SUCCESS="success",q=function(l){var m,x,y,z,A,B,C,D,E,F;for(C=l.naturalWidth,B=l.naturalHeight,x=document.createElement("canvas"),x.width=1,x.height=B,y=x.getContext("2d"),y.drawImage(l,0,0),z=y.getImageData(0,0,1,B).data,F=0,A=B,D=B;D>F;){m=z[4*(D-1)+3],0===m?A=D:F=D,D=A+F>>1}return E=D/B,0===E?1:E},r=function(g,m,x,y,z,A,B,C,D,E){var F;return F=q(m),g.drawImage(m,x,y,z,A,B,C,D,E/F)},p=function(m,x){var y,z,A,B,C,D,E,F,G;if(A=!1,G=!0,z=m.document,F=z.documentElement,y=z.addEventListener?"addEventListener":"attachEvent",E=z.addEventListener?"removeEventListener":"detachEvent",D=z.addEventListener?"":"on",B=function(g){return"readystatechange"!==g.type||"complete"===z.readyState?(("load"===g.type?m:z)[E](D+g.type,B,!1),!A&&(A=!0)?x.call(m,g.type||g):void 0):void 0},C=function(){var g;try{F.doScroll("left")}catch(h){return g=h,setTimeout(C,50),void 0}return B("poll")},"complete"!==z.readyState){if(z.createEventObject&&F.doScroll){try{G=!m.frameElement}catch(H){}G&&C()}return z[y](D+"DOMContentLoaded",B,!1),z[y](D+"readystatechange",B,!1),m[y](D+"load",B,!1)}},c._autoDiscoverFunction=function(){return c.autoDiscover?c.discover():void 0},p(window,c._autoDiscoverFunction)}).call(this)}),b.alias("component-emitter/index.js","dropzone/deps/emitter/index.js"),b.alias("component-emitter/index.js","emitter/index.js"),"object"==typeof exports?module.exports=b("dropzone"):"function"==typeof define&&define.amd?define(function(){return b("dropzone")}):this.Dropzone=b("dropzone");new Dropzone(".dropzone")}a();handleScript(a)});
/*
 * Datepicker for Bootstrap v1.4.0 (https://github.com/eternicode/bootstrap-datepicker)
 *
 * Copyright 2012 Stefan Petre
 * Improvements by Andrew Rowls
 * Licensed under the Apache License v2.0 (http://www.apache.org/licenses/LICENSE-2.0)
 */
(function(a,o){function p(){return new Date(Date.UTC.apply(Date,arguments))}function q(){var r=new Date();return p(r.getFullYear(),r.getMonth(),r.getDate())}function j(r,s){return(r.getUTCFullYear()===s.getUTCFullYear()&&r.getUTCMonth()===s.getUTCMonth()&&r.getUTCDate()===s.getUTCDate())}function b(r){return function(){return this[r].apply(this,arguments)}}var c=(function(){var r={get:function(s){return this.slice(s)[0]},contains:function(s){var v=s&&s.valueOf();for(var t=0,u=this.length;t<u;t++){if(this[t].valueOf()===v){return t}}return -1},remove:function(s){this.splice(s,1)},replace:function(s){if(!s){return}if(!a.isArray(s)){s=[s]}this.clear();this.push.apply(this,s)},clear:function(){this.length=0},copy:function(){var s=new c();s.replace(this);return s}};return function(){var s=[];s.push.apply(s,arguments);a.extend(s,r);return s}})();var d=function(r,s){this._process_options(s);this.dates=new c();this.viewDate=this.o.defaultViewDate;this.focusDate=null;this.element=a(r);this.isInline=false;this.isInput=this.element.is("input");this.component=this.element.is(".date")?this.element.find(".add-on, .input-group-addon, .btn"):false;this.hasInput=this.component&&this.element.find("input").length;if(this.component&&this.component.length===0){this.component=false}this.picker=a(i.template);this._buildEvents();this._attachEvents();if(this.isInline){this.picker.addClass("datepicker-inline").appendTo(this.element)}else{this.picker.addClass("datepicker-dropdown dropdown-menu")}if(this.o.rtl){this.picker.addClass("datepicker-rtl")}this.viewMode=this.o.startView;if(this.o.calendarWeeks){this.picker.find("tfoot th.today, tfoot th.clear").attr("colspan",function(t,u){return parseInt(u)+1})}this._allow_update=false;this.setStartDate(this._o.startDate);this.setEndDate(this._o.endDate);this.setDaysOfWeekDisabled(this.o.daysOfWeekDisabled);this.setDatesDisabled(this.o.datesDisabled);this.fillDow();this.fillMonths();this._allow_update=true;this.update();this.showMode();if(this.isInline){this.show()}};d.prototype={constructor:d,_process_options:function(y){this._o=a.extend({},this._o,y);var x=this.o=a.extend({},this._o);var v=x.language;if(!g[v]){v=v.split("-")[0];if(!g[v]){v=h.language}}x.language=v;switch(x.startView){case 2:case"decade":x.startView=2;break;case 1:case"year":x.startView=1;break;default:x.startView=0}switch(x.minViewMode){case 1:case"months":x.minViewMode=1;break;case 2:case"years":x.minViewMode=2;break;default:x.minViewMode=0}x.startView=Math.max(x.startView,x.minViewMode);if(x.multidate!==true){x.multidate=Number(x.multidate)||false;if(x.multidate!==false){x.multidate=Math.max(0,x.multidate)}}x.multidateSeparator=String(x.multidateSeparator);x.weekStart%=7;x.weekEnd=((x.weekStart+6)%7);var u=i.parseFormat(x.format);if(x.startDate!==-Infinity){if(!!x.startDate){if(x.startDate instanceof Date){x.startDate=this._local_to_utc(this._zero_time(x.startDate))}else{x.startDate=i.parseDate(x.startDate,u,x.language)}}else{x.startDate=-Infinity}}if(x.endDate!==Infinity){if(!!x.endDate){if(x.endDate instanceof Date){x.endDate=this._local_to_utc(this._zero_time(x.endDate))}else{x.endDate=i.parseDate(x.endDate,u,x.language)}}else{x.endDate=Infinity}}x.daysOfWeekDisabled=x.daysOfWeekDisabled||[];if(!a.isArray(x.daysOfWeekDisabled)){x.daysOfWeekDisabled=x.daysOfWeekDisabled.split(/[,\s]*/)}x.daysOfWeekDisabled=a.map(x.daysOfWeekDisabled,function(B){return parseInt(B,10)});x.datesDisabled=x.datesDisabled||[];if(!a.isArray(x.datesDisabled)){var s=[];s.push(i.parseDate(x.datesDisabled,u,x.language));x.datesDisabled=s}x.datesDisabled=a.map(x.datesDisabled,function(B){return i.parseDate(B,u,x.language)});var z=String(x.orientation).toLowerCase().split(/\s+/g),r=x.orientation.toLowerCase();z=a.grep(z,function(B){return(/^auto|left|right|top|bottom$/).test(B)});x.orientation={x:"auto",y:"auto"};if(!r||r==="auto"){}else{if(z.length===1){switch(z[0]){case"top":case"bottom":x.orientation.y=z[0];break;case"left":case"right":x.orientation.x=z[0];break}}else{r=a.grep(z,function(B){return(/^left|right$/).test(B)});x.orientation.x=r[0]||"auto";r=a.grep(z,function(B){return(/^top|bottom$/).test(B)});x.orientation.y=r[0]||"auto"}}if(x.defaultViewDate){var A=x.defaultViewDate.year||new Date().getFullYear();var w=x.defaultViewDate.month||0;var t=x.defaultViewDate.day||1;x.defaultViewDate=p(A,w,t)}else{x.defaultViewDate=q()}x.showOnFocus=x.showOnFocus!==o?x.showOnFocus:true},_events:[],_secondaryEvents:[],_applyEvents:function(u){for(var v=0,s,r,t;v<u.length;v++){s=u[v][0];if(u[v].length===2){r=o;t=u[v][1]}else{if(u[v].length===3){r=u[v][1];t=u[v][2]}}s.on(t,r)}},_unapplyEvents:function(u){for(var v=0,s,t,r;v<u.length;v++){s=u[v][0];if(u[v].length===2){r=o;t=u[v][1]}else{if(u[v].length===3){r=u[v][1];t=u[v][2]}}s.off(t,r)}},_buildEvents:function(){var r={keyup:a.proxy(function(s){if(a.inArray(s.keyCode,[27,37,39,38,40,32,13,9])===-1){this.update()}},this),keydown:a.proxy(this.keydown,this)};if(this.o.showOnFocus===true){r.focus=a.proxy(this.show,this)}if(this.isInput){this._events=[[this.element,r]]}else{if(this.component&&this.hasInput){this._events=[[this.element.find("input"),r],[this.component,{click:a.proxy(this.show,this)}]]}else{if(this.element.is("div")){this.isInline=true}else{this._events=[[this.element,{click:a.proxy(this.show,this)}]]}}}this._events.push([this.element,"*",{blur:a.proxy(function(s){this._focused_from=s.target},this)}],[this.element,{blur:a.proxy(function(s){this._focused_from=s.target},this)}]);this._secondaryEvents=[[this.picker,{click:a.proxy(this.click,this)}],[a(window),{resize:a.proxy(this.place,this)}],[a(document),{"mousedown touchstart":a.proxy(function(s){if(!(this.element.is(s.target)||this.element.find(s.target).length||this.picker.is(s.target)||this.picker.find(s.target).length)){this.hide()}},this)}]]},_attachEvents:function(){this._detachEvents();this._applyEvents(this._events)},_detachEvents:function(){this._unapplyEvents(this._events)},_attachSecondaryEvents:function(){this._detachSecondaryEvents();this._applyEvents(this._secondaryEvents)},_detachSecondaryEvents:function(){this._unapplyEvents(this._secondaryEvents)},_trigger:function(t,r){var s=r||this.dates.get(-1),u=this._utc_to_local(s);this.element.trigger({type:t,date:u,dates:a.map(this.dates,this._utc_to_local),format:a.proxy(function(x,w){if(arguments.length===0){x=this.dates.length-1;w=this.o.format}else{if(typeof x==="string"){w=x;x=this.dates.length-1}}w=w||this.o.format;var v=this.dates.get(x);return i.formatDate(v,w,this.o.language)},this)})},show:function(){if(this.element.attr("readonly")){return}if(!this.isInline){this.picker.appendTo(this.o.container)}this.place();this.picker.show();this._attachSecondaryEvents();this._trigger("show");if((window.navigator.msMaxTouchPoints||"ontouchstart" in document)&&this.o.disableTouchKeyboard){a(this.element).blur()}return this},hide:function(){if(this.isInline){return this}if(!this.picker.is(":visible")){return this}this.focusDate=null;this.picker.hide().detach();this._detachSecondaryEvents();this.viewMode=this.o.startView;this.showMode();if(this.o.forceParse&&(this.isInput&&this.element.val()||this.hasInput&&this.element.find("input").val())){this.setValue()}this._trigger("hide");return this},remove:function(){this.hide();this._detachEvents();this._detachSecondaryEvents();this.picker.remove();delete this.element.data().datepicker;if(!this.isInput){delete this.element.data().date}return this},_utc_to_local:function(r){return r&&new Date(r.getTime()+(r.getTimezoneOffset()*60000))},_local_to_utc:function(r){return r&&new Date(r.getTime()-(r.getTimezoneOffset()*60000))},_zero_time:function(r){return r&&new Date(r.getFullYear(),r.getMonth(),r.getDate())},_zero_utc_time:function(r){return r&&new Date(Date.UTC(r.getUTCFullYear(),r.getUTCMonth(),r.getUTCDate()))},getDates:function(){return a.map(this.dates,this._utc_to_local)},getUTCDates:function(){return a.map(this.dates,function(r){return new Date(r)})},getDate:function(){return this._utc_to_local(this.getUTCDate())},getUTCDate:function(){var r=this.dates.get(-1);if(typeof r!=="undefined"){return new Date(r)}else{return null}},clearDates:function(){var r;if(this.isInput){r=this.element}else{if(this.component){r=this.element.find("input")}}if(r){r.val("").change()}this.update();this._trigger("changeDate");if(this.o.autoclose){this.hide()}},setDates:function(){var r=a.isArray(arguments[0])?arguments[0]:arguments;this.update.apply(this,r);this._trigger("changeDate");this.setValue();return this},setUTCDates:function(){var r=a.isArray(arguments[0])?arguments[0]:arguments;this.update.apply(this,a.map(r,this._utc_to_local));this._trigger("changeDate");this.setValue();return this},setDate:b("setDates"),setUTCDate:b("setUTCDates"),setValue:function(){var r=this.getFormattedDate();if(!this.isInput){if(this.component){this.element.find("input").val(r).change()}}else{this.element.val(r).change()}return this},getFormattedDate:function(r){if(r===o){r=this.o.format}var s=this.o.language;return a.map(this.dates,function(t){return i.formatDate(t,r,s)}).join(this.o.multidateSeparator)},setStartDate:function(r){this._process_options({startDate:r});this.update();this.updateNavArrows();return this},setEndDate:function(r){this._process_options({endDate:r});this.update();this.updateNavArrows();return this},setDaysOfWeekDisabled:function(r){this._process_options({daysOfWeekDisabled:r});this.update();this.updateNavArrows();return this},setDatesDisabled:function(r){this._process_options({datesDisabled:r});this.update();this.updateNavArrows()},place:function(){if(this.isInline){return this}var u=this.picker.outerWidth(),t=this.picker.outerHeight(),D=10,G=a(this.o.container).width(),F=a(this.o.container).height(),A=a(this.o.container).scrollTop(),r=a(this.o.container).offset();var y=[];this.element.parents().each(function(){var J=a(this).css("z-index");if(J!=="auto"&&J!==0){y.push(parseInt(J))}});var I=Math.max.apply(Math,y)+10;var x=this.component?this.component.parent().offset():this.element.offset();var v=this.component?this.component.outerHeight(true):this.element.outerHeight(false);var E=this.component?this.component.outerWidth(true):this.element.outerWidth(false);var w=x.left-r.left,B=x.top-r.top+50;this.picker.removeClass("datepicker-orient-top datepicker-orient-bottom datepicker-orient-right datepicker-orient-left");if(this.o.orientation.x!=="auto"){this.picker.addClass("datepicker-orient-"+this.o.orientation.x);if(this.o.orientation.x==="right"){w-=u-E}}else{if(x.left<0){this.picker.addClass("datepicker-orient-left");w-=x.left-D}else{if(w+u>G){this.picker.addClass("datepicker-orient-right");w=x.left+E-u}else{this.picker.addClass("datepicker-orient-left")}}}var H=this.o.orientation.y,C,s;if(H==="auto"){C=-A+B-t;s=A+F-(B+v+t);if(Math.max(C,s)===s){H="top"}else{H="bottom"}}this.picker.addClass("datepicker-orient-"+H);if(H==="top"){B+=v}else{B-=t+parseInt(this.picker.css("padding-top"))}if(this.o.rtl){var z=G-(w+E);this.picker.css({top:B,right:z,zIndex:I})}else{this.picker.css({top:B,left:w,zIndex:I})}return this},_allow_update:true,update:function(){if(!this._allow_update){return this}var t=this.dates.copy(),r=[],s=false;if(arguments.length){a.each(arguments,a.proxy(function(v,u){if(u instanceof Date){u=this._local_to_utc(u)}r.push(u)},this));s=true}else{r=this.isInput?this.element.val():this.element.data("date")||this.element.find("input").val();if(r&&this.o.multidate){r=r.split(this.o.multidateSeparator)}else{r=[r]}delete this.element.data().date}r=a.map(r,a.proxy(function(u){return i.parseDate(u,this.o.format,this.o.language)},this));r=a.grep(r,a.proxy(function(u){return(u<this.o.startDate||u>this.o.endDate||!u)},this),true);this.dates.replace(r);if(this.dates.length){this.viewDate=new Date(this.dates.get(-1))}else{if(this.viewDate<this.o.startDate){this.viewDate=new Date(this.o.startDate)}else{if(this.viewDate>this.o.endDate){this.viewDate=new Date(this.o.endDate)}}}if(s){this.setValue()}else{if(r.length){if(String(t)!==String(this.dates)){this._trigger("changeDate")}}}if(!this.dates.length&&t.length){this._trigger("clearDate")}this.fill();return this},fillDow:function(){var s=this.o.weekStart,t="<tr>";if(this.o.calendarWeeks){this.picker.find(".datepicker-days thead tr:first-child th.datepicker-switch").attr("colspan",function(u,v){return parseInt(v)+1});var r='<th class="cw">&#160;</th>';t+=r}while(s<this.o.weekStart+7){t+='<th class="dow">'+g[this.o.language].daysMin[(s++)%7]+"</th>"}t+="</tr>";this.picker.find(".datepicker-days thead").append(t)},fillMonths:function(){var r="",s=0;while(s<12){r+='<span class="month">'+g[this.o.language].monthsShort[s++]+"</span>"}this.picker.find(".datepicker-months td").html(r)},setRange:function(r){if(!r||!r.length){delete this.range}else{this.range=a.map(r,function(s){return s.valueOf()})}this.fill()},getClassNames:function(s){var r=[],v=this.viewDate.getUTCFullYear(),t=this.viewDate.getUTCMonth(),u=new Date();if(s.getUTCFullYear()<v||(s.getUTCFullYear()===v&&s.getUTCMonth()<t)){r.push("old")}else{if(s.getUTCFullYear()>v||(s.getUTCFullYear()===v&&s.getUTCMonth()>t)){r.push("new")}}if(this.focusDate&&s.valueOf()===this.focusDate.valueOf()){r.push("focused")}if(this.o.todayHighlight&&s.getUTCFullYear()===u.getFullYear()&&s.getUTCMonth()===u.getMonth()&&s.getUTCDate()===u.getDate()){r.push("today")}if(this.dates.contains(s)!==-1){r.push("active")}if(s.valueOf()<this.o.startDate||s.valueOf()>this.o.endDate||a.inArray(s.getUTCDay(),this.o.daysOfWeekDisabled)!==-1){r.push("disabled")}if(this.o.datesDisabled.length>0&&a.grep(this.o.datesDisabled,function(w){return j(s,w)}).length>0){r.push("disabled","disabled-date")}if(this.range){if(s>this.range[0]&&s<this.range[this.range.length-1]){r.push("range")}if(a.inArray(s.valueOf(),this.range)!==-1){r.push("selected")}}return r},fill:function(){var w=new Date(this.viewDate),N=w.getUTCFullYear(),C=w.getUTCMonth(),H=this.o.startDate!==-Infinity?this.o.startDate.getUTCFullYear():-Infinity,G=this.o.startDate!==-Infinity?this.o.startDate.getUTCMonth():-Infinity,z=this.o.endDate!==Infinity?this.o.endDate.getUTCFullYear():Infinity,y=this.o.endDate!==Infinity?this.o.endDate.getUTCMonth():Infinity,K=g[this.o.language].today||g.en.today||"",u=g[this.o.language].clear||g.en.clear||"",L;if(isNaN(N)||isNaN(C)){return}this.picker.find(".datepicker-days thead th.datepicker-switch").text(g[this.o.language].months[C]+" "+N);this.picker.find("tfoot th.today").text(K).toggle(this.o.todayBtn!==false);this.picker.find("tfoot th.clear").text(u).toggle(this.o.clearBtn!==false);this.updateNavArrows();this.fillMonths();var F=p(N,C-1,28),x=i.getDaysInMonth(F.getUTCFullYear(),F.getUTCMonth());F.setUTCDate(x);F.setUTCDate(x-(F.getUTCDay()-this.o.weekStart+7)%7);var E=new Date(F);E.setUTCDate(E.getUTCDate()+42);E=E.valueOf();var A=[];var v;while(F.valueOf()<E){if(F.getUTCDay()===this.o.weekStart){A.push("<tr>");if(this.o.calendarWeeks){var M=new Date(+F+(this.o.weekStart-F.getUTCDay()-7)%7*86400000),I=new Date(Number(M)+(7+4-M.getUTCDay())%7*86400000),Q=new Date(Number(Q=p(I.getUTCFullYear(),0,1))+(7+4-Q.getUTCDay())%7*86400000),s=(I-Q)/86400000/7+1;A.push('<td class="cw">'+s+"</td>")}}v=this.getClassNames(F);v.push("day");if(this.o.beforeShowDay!==a.noop){var r=this.o.beforeShowDay(this._utc_to_local(F));if(r===o){r={}}else{if(typeof(r)==="boolean"){r={enabled:r}}else{if(typeof(r)==="string"){r={classes:r}}}}if(r.enabled===false){v.push("disabled")}if(r.classes){v=v.concat(r.classes.split(/\s+/))}if(r.tooltip){L=r.tooltip}}v=a.unique(v);A.push('<td class="'+v.join(" ")+'"'+(L?' title="'+L+'"':"")+">"+F.getUTCDate()+"</td>");L=null;if(F.getUTCDay()===this.o.weekEnd){A.push("</tr>")}F.setUTCDate(F.getUTCDate()+1)}this.picker.find(".datepicker-days tbody").empty().append(A.join(""));var D=this.picker.find(".datepicker-months").find("th:eq(1)").text(N).end().find("span").removeClass("active");a.each(this.dates,function(S,R){if(R.getUTCFullYear()===N){D.eq(R.getUTCMonth()).addClass("active")}});if(N<H||N>z){D.addClass("disabled")}if(N===H){D.slice(0,G).addClass("disabled")}if(N===z){D.slice(y+1).addClass("disabled")}if(this.o.beforeShowMonth!==a.noop){var J=this;a.each(D,function(S,U){if(!a(U).hasClass("disabled")){var T=new Date(N,S,1);var R=J.o.beforeShowMonth(T);if(R===false){a(U).addClass("disabled")}}})}A="";N=parseInt(N/10,10)*10;var O=this.picker.find(".datepicker-years").find("th:eq(1)").text(N+"-"+(N+9)).end().find("td");N-=1;var P=a.map(this.dates,function(R){return R.getUTCFullYear()}),t;for(var B=-1;B<11;B++){t=["year"];if(B===-1){t.push("old")}else{if(B===10){t.push("new")}}if(a.inArray(N,P)!==-1){t.push("active")}if(N<H||N>z){t.push("disabled")}A+='<span class="'+t.join(" ")+'">'+N+"</span>";N+=1}O.html(A)},updateNavArrows:function(){if(!this._allow_update){return}var r=new Date(this.viewDate),t=r.getUTCFullYear(),s=r.getUTCMonth();switch(this.viewMode){case 0:if(this.o.startDate!==-Infinity&&t<=this.o.startDate.getUTCFullYear()&&s<=this.o.startDate.getUTCMonth()){this.picker.find(".prev").css({visibility:"hidden"})}else{this.picker.find(".prev").css({visibility:"visible"})}if(this.o.endDate!==Infinity&&t>=this.o.endDate.getUTCFullYear()&&s>=this.o.endDate.getUTCMonth()){this.picker.find(".next").css({visibility:"hidden"})}else{this.picker.find(".next").css({visibility:"visible"})}break;case 1:case 2:if(this.o.startDate!==-Infinity&&t<=this.o.startDate.getUTCFullYear()){this.picker.find(".prev").css({visibility:"hidden"})}else{this.picker.find(".prev").css({visibility:"visible"})}if(this.o.endDate!==Infinity&&t>=this.o.endDate.getUTCFullYear()){this.picker.find(".next").css({visibility:"hidden"})}else{this.picker.find(".next").css({visibility:"visible"})}break}},click:function(u){u.preventDefault();var w=a(u.target).closest("span, td, th"),y,v,s;if(w.length===1){switch(w[0].nodeName.toLowerCase()){case"th":switch(w[0].className){case"datepicker-switch":this.showMode(1);break;case"prev":case"next":var t=i.modes[this.viewMode].navStep*(w[0].className==="prev"?-1:1);switch(this.viewMode){case 0:this.viewDate=this.moveMonth(this.viewDate,t);this._trigger("changeMonth",this.viewDate);break;case 1:case 2:this.viewDate=this.moveYear(this.viewDate,t);if(this.viewMode===1){this._trigger("changeYear",this.viewDate)}break}this.fill();break;case"today":var r=new Date();r=p(r.getFullYear(),r.getMonth(),r.getDate(),0,0,0);this.showMode(-2);var x=this.o.todayBtn==="linked"?null:"view";this._setDate(r,x);break;case"clear":this.clearDates();break}break;case"span":if(!w.is(".disabled")){this.viewDate.setUTCDate(1);if(w.is(".month")){s=1;v=w.parent().find("span").index(w);y=this.viewDate.getUTCFullYear();this.viewDate.setUTCMonth(v);this._trigger("changeMonth",this.viewDate);if(this.o.minViewMode===1){this._setDate(p(y,v,s))}}else{s=1;v=0;y=parseInt(w.text(),10)||0;this.viewDate.setUTCFullYear(y);this._trigger("changeYear",this.viewDate);if(this.o.minViewMode===2){this._setDate(p(y,v,s))}}this.showMode(-1);this.fill()}break;case"td":if(w.is(".day")&&!w.is(".disabled")){s=parseInt(w.text(),10)||1;y=this.viewDate.getUTCFullYear();v=this.viewDate.getUTCMonth();if(w.is(".old")){if(v===0){v=11;y-=1}else{v-=1}}else{if(w.is(".new")){if(v===11){v=0;y+=1}else{v+=1}}}this._setDate(p(y,v,s))}break}}if(this.picker.is(":visible")&&this._focused_from){a(this._focused_from).focus()}delete this._focused_from},_toggle_multidate:function(r){var s=this.dates.contains(r);if(!r){this.dates.clear()}if(s!==-1){if(this.o.multidate===true||this.o.multidate>1||this.o.toggleActive){this.dates.remove(s)}}else{if(this.o.multidate===false){this.dates.clear();this.dates.push(r)}else{this.dates.push(r)}}if(typeof this.o.multidate==="number"){while(this.dates.length>this.o.multidate){this.dates.remove(0)}}},_setDate:function(r,t){if(!t||t==="date"){this._toggle_multidate(r&&new Date(r))}if(!t||t==="view"){this.viewDate=r&&new Date(r)}this.fill();this.setValue();if(!t||t!=="view"){this._trigger("changeDate")}var s;if(this.isInput){s=this.element}else{if(this.component){s=this.element.find("input")}}if(s){s.change()}if(this.o.autoclose&&(!t||t==="date")){this.hide()}},moveMonth:function(r,t){if(!r){return o}if(!t){return r}var x=new Date(r.valueOf()),s=x.getUTCDate(),w=x.getUTCMonth(),v=Math.abs(t),y,z;t=t>0?1:-1;if(v===1){z=t===-1?function(){return x.getUTCMonth()===w}:function(){return x.getUTCMonth()!==y};y=w+t;x.setUTCMonth(y);if(y<0||y>11){y=(y+12)%12}}else{for(var u=0;u<v;u++){x=this.moveMonth(x,t)}y=x.getUTCMonth();x.setUTCDate(s);z=function(){return y!==x.getUTCMonth()}}while(z()){x.setUTCDate(--s);x.setUTCMonth(y)}return x},moveYear:function(r,s){return this.moveMonth(r,s*12)},dateWithinRange:function(r){return r>=this.o.startDate&&r<=this.o.endDate},keydown:function(t){if(this.picker.is(":not(:visible)")){if(t.keyCode===27){this.show()}return}var r=false,s,w,x,v=this.focusDate||this.viewDate;switch(t.keyCode){case 27:if(this.focusDate){this.focusDate=null;this.viewDate=this.dates.get(-1)||this.viewDate;this.fill()}else{this.hide()}t.preventDefault();break;case 37:case 39:if(!this.o.keyboardNavigation){break}s=t.keyCode===37?-1:1;if(t.ctrlKey){w=this.moveYear(this.dates.get(-1)||q(),s);x=this.moveYear(v,s);this._trigger("changeYear",this.viewDate)}else{if(t.shiftKey){w=this.moveMonth(this.dates.get(-1)||q(),s);x=this.moveMonth(v,s);this._trigger("changeMonth",this.viewDate)}else{w=new Date(this.dates.get(-1)||q());w.setUTCDate(w.getUTCDate()+s);x=new Date(v);x.setUTCDate(v.getUTCDate()+s)}}if(this.dateWithinRange(x)){this.focusDate=this.viewDate=x;this.setValue();this.fill();t.preventDefault()}break;case 38:case 40:if(!this.o.keyboardNavigation){break}s=t.keyCode===38?-1:1;if(t.ctrlKey){w=this.moveYear(this.dates.get(-1)||q(),s);x=this.moveYear(v,s);this._trigger("changeYear",this.viewDate)}else{if(t.shiftKey){w=this.moveMonth(this.dates.get(-1)||q(),s);x=this.moveMonth(v,s);this._trigger("changeMonth",this.viewDate)}else{w=new Date(this.dates.get(-1)||q());w.setUTCDate(w.getUTCDate()+s*7);x=new Date(v);x.setUTCDate(v.getUTCDate()+s*7)}}if(this.dateWithinRange(x)){this.focusDate=this.viewDate=x;this.setValue();this.fill();t.preventDefault()}break;case 32:break;case 13:v=this.focusDate||this.dates.get(-1)||this.viewDate;if(this.o.keyboardNavigation){this._toggle_multidate(v);r=true}this.focusDate=null;this.viewDate=this.dates.get(-1)||this.viewDate;this.setValue();this.fill();if(this.picker.is(":visible")){t.preventDefault();if(typeof t.stopPropagation==="function"){t.stopPropagation()}else{t.cancelBubble=true}if(this.o.autoclose){this.hide()}}break;case 9:this.focusDate=null;this.viewDate=this.dates.get(-1)||this.viewDate;this.fill();this.hide();break}if(r){if(this.dates.length){this._trigger("changeDate")}else{this._trigger("clearDate")}var u;if(this.isInput){u=this.element}else{if(this.component){u=this.element.find("input")}}if(u){u.change()}}},showMode:function(r){if(r){this.viewMode=Math.max(this.o.minViewMode,Math.min(2,this.viewMode+r))}this.picker.find(">div").hide().filter(".datepicker-"+i.modes[this.viewMode].clsName).css("display","block");this.updateNavArrows()}};var f=function(r,s){this.element=a(r);this.inputs=a.map(s.inputs,function(t){return t.jquery?t[0]:t});delete s.inputs;e.call(a(this.inputs),s).bind("changeDate",a.proxy(this.dateUpdated,this));this.pickers=a.map(this.inputs,function(t){return a(t).data("datepicker")});this.updateDates()};f.prototype={updateDates:function(){this.dates=a.map(this.pickers,function(r){return r.getUTCDate()});this.updateRanges()},updateRanges:function(){var r=a.map(this.dates,function(s){return s.valueOf()});a.each(this.pickers,function(s,t){t.setRange(r)})},dateUpdated:function(s){if(this.updating){return}this.updating=true;var r=a(s.target).data("datepicker"),x=r.getUTCDate(),t=a.inArray(s.target,this.inputs),u=t-1,v=t+1,w=this.inputs.length;if(t===-1){return}a.each(this.pickers,function(y,z){if(!z.getUTCDate()){z.setUTCDate(x)}});if(x<this.dates[u]){while(u>=0&&x<this.dates[u]){this.pickers[u--].setUTCDate(x)}}else{if(x>this.dates[v]){while(v<w&&x>this.dates[v]){this.pickers[v++].setUTCDate(x)}}}this.updateDates();delete this.updating},remove:function(){a.map(this.pickers,function(r){r.remove()});delete this.element.data().datepicker}};function m(s,w){var r=a(s).data(),v={},t,y=new RegExp("^"+w.toLowerCase()+"([A-Z])");w=new RegExp("^"+w.toLowerCase());function x(z,A){return A.toLowerCase()}for(var u in r){if(w.test(u)){t=u.replace(y,x);v[t]=r[u]}}return v}function n(s){var t={};if(!g[s]){s=s.split("-")[0];if(!g[s]){return}}var r=g[s];a.each(k,function(u,v){if(v in r){t[v]=r[v]}});return t}var l=a.fn.bootstrapDatepicker;var e=function(t){var r=Array.apply(null,arguments);r.shift();var s;this.each(function(){var u=a(this),v=u.data("datepicker"),y=typeof t==="object"&&t;if(!v){var w=m(this,"date"),B=a.extend({},h,w,y),x=n(B.language),z=a.extend({},h,x,w,y);if(u.is(".input-daterange")||z.inputs){var A={inputs:z.inputs||u.find("input").toArray()};u.data("datepicker",(v=new f(this,a.extend(z,A))))}else{u.data("datepicker",(v=new d(this,z)))}}if(typeof t==="string"&&typeof v[t]==="function"){s=v[t].apply(v,r);if(s!==o){return false}}});if(s!==o){return s}else{return this}};a.fn.bootstrapDatepicker=e;var h=a.fn.bootstrapDatepicker.defaults={autoclose:false,beforeShowDay:a.noop,beforeShowMonth:a.noop,calendarWeeks:false,clearBtn:false,toggleActive:false,daysOfWeekDisabled:[],datesDisabled:[],endDate:Infinity,forceParse:true,format:"mm/dd/yyyy",keyboardNavigation:true,language:"en",minViewMode:0,multidate:false,multidateSeparator:",",orientation:"auto",rtl:false,startDate:-Infinity,startView:0,todayBtn:false,todayHighlight:false,weekStart:0,disableTouchKeyboard:false,container:"body"};var k=a.fn.bootstrapDatepicker.locale_opts=["format","rtl","weekStart"];a.fn.bootstrapDatepicker.Constructor=d;var g=a.fn.bootstrapDatepicker.dates={en:{days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday","Sunday"],daysShort:["Sun","Mon","Tue","Wed","Thu","Fri","Sat","Sun"],daysMin:["Su","Mo","Tu","We","Th","Fr","Sa","Su"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],monthsShort:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],today:"Today",clear:"Clear"}};var i={modes:[{clsName:"days",navFnc:"Month",navStep:1},{clsName:"months",navFnc:"FullYear",navStep:1},{clsName:"years",navFnc:"FullYear",navStep:10}],isLeapYear:function(r){return(((r%4===0)&&(r%100!==0))||(r%400===0))},getDaysInMonth:function(s,r){return[31,(i.isLeapYear(s)?29:28),31,30,31,30,31,31,30,31,30,31][r]},validParts:/dd?|DD?|mm?|MM?|yy(?:yy)?/g,nonpunctuation:/[^ -\/:-@\[\u3400-\u9fff-`{-~\t\n\r]+/g,parseFormat:function(r){var t=r.replace(this.validParts,"\0").split("\0"),s=r.match(this.validParts);if(!t||!t.length||!s||s.length===0){throw new Error("Invalid date format.")}return{separators:t,parts:s}},parseDate:function(u,x,A){if(!u){return o}if(u instanceof Date){return u}if(typeof x==="string"){x=i.parseFormat(x)}var E=/([\-+]\d+)([dmwy])/,F=u.match(/([\-+]\d+)([dmwy])/g),D,v,z;if(/^[\-+]\d+[dmwy]([\s,]+[\-+]\d+[dmwy])*$/.test(u)){u=new Date();for(z=0;z<F.length;z++){D=E.exec(F[z]);v=parseInt(D[1]);switch(D[2]){case"d":u.setUTCDate(u.getUTCDate()+v);break;case"m":u=d.prototype.moveMonth.call(d.prototype,u,v);break;case"w":u.setUTCDate(u.getUTCDate()+v*7);break;case"y":u=d.prototype.moveYear.call(d.prototype,u,v);break}}return p(u.getUTCFullYear(),u.getUTCMonth(),u.getUTCDate(),0,0,0)}F=u&&u.match(this.nonpunctuation)||[];u=new Date();var C={},I=["yyyy","yy","M","MM","m","mm","d","dd"],H={yyyy:function(s,K){return s.setUTCFullYear(K)},yy:function(s,K){return s.setUTCFullYear(2000+K)},m:function(s,K){if(isNaN(s)){return s}K-=1;while(K<0){K+=12}K%=12;s.setUTCMonth(K);while(s.getUTCMonth()!==K){s.setUTCDate(s.getUTCDate()-1)}return s},d:function(s,K){return s.setUTCDate(K)}},J,w;H.M=H.MM=H.mm=H.m;H.dd=H.d;u=p(u.getFullYear(),u.getMonth(),u.getDate(),0,0,0);var y=x.parts.slice();if(F.length!==y.length){y=a(y).filter(function(s,K){return a.inArray(K,I)!==-1}).toArray()}function B(){var s=this.slice(0,F[z].length),K=F[z].slice(0,s.length);return s.toLowerCase()===K.toLowerCase()}if(F.length===y.length){var t;for(z=0,t=y.length;z<t;z++){J=parseInt(F[z],10);D=y[z];if(isNaN(J)){switch(D){case"MM":w=a(g[A].months).filter(B);J=a.inArray(w[0],g[A].months)+1;break;case"M":w=a(g[A].monthsShort).filter(B);J=a.inArray(w[0],g[A].monthsShort)+1;break}}C[D]=J}var r,G;for(z=0;z<I.length;z++){G=I[z];if(G in C&&!isNaN(C[G])){r=new Date(u);H[G](r,C[G]);if(!isNaN(r)){u=r}}}}return u},formatDate:function(s,t,v){if(!s){return""}if(typeof t==="string"){t=i.parseFormat(t)}var x={d:s.getUTCDate(),D:g[v].daysShort[s.getUTCDay()],DD:g[v].days[s.getUTCDay()],m:s.getUTCMonth()+1,M:g[v].monthsShort[s.getUTCMonth()],MM:g[v].months[s.getUTCMonth()],yy:s.getUTCFullYear().toString().substring(2),yyyy:s.getUTCFullYear()};x.dd=(x.d<10?"0":"")+x.d;x.mm=(x.m<10?"0":"")+x.m;s=[];var w=a.extend([],t.separators);for(var u=0,r=t.parts.length;u<=r;u++){if(w.length){s.push(w.shift())}s.push(x[t.parts[u]])}return s.join("")},headTemplate:'<thead><tr><th class="prev">&#171;</th><th colspan="5" class="datepicker-switch"></th><th class="next">&#187;</th></tr></thead>',contTemplate:'<tbody><tr><td colspan="7"></td></tr></tbody>',footTemplate:'<tfoot><tr><th colspan="7" class="today"></th></tr><tr><th colspan="7" class="clear"></th></tr></tfoot>'};i.template='<div class="datepicker"><div class="datepicker-days"><table class=" table-condensed">'+i.headTemplate+"<tbody></tbody>"+i.footTemplate+'</table></div><div class="datepicker-months"><table class="table-condensed">'+i.headTemplate+i.contTemplate+i.footTemplate+'</table></div><div class="datepicker-years"><table class="table-condensed">'+i.headTemplate+i.contTemplate+i.footTemplate+"</table></div></div>";a.fn.bootstrapDatepicker.DPGlobal=i;a.fn.datepicker.noConflict=function(){a.fn.bootstrapDatepicker=l;return this};a(document).on("focus.datepicker.data-api click.datepicker.data-api",'[data-provide="datepicker"]',function(s){var r=a(this);if(r.data("datepicker")){return}s.preventDefault();e.call(r,"show")});a(function(){e.call(a('[data-provide="datepicker-inline"]'))})}(window.jQuery));
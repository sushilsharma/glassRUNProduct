/*
 * Datepicker for Bootstrap v1.4.0 (https://github.com/eternicode/bootstrap-datepicker)
 *
 * Copyright 2012 Stefan Petre
 * Improvements by Andrew Rowls
 * Licensed under the Apache License v2.0 (http://www.apache.org/licenses/LICENSE-2.0)
 */
!function(r,s){function t(){return new Date(Date.UTC.apply(Date,arguments))}function u(){var b=new Date;return t(b.getFullYear(),b.getMonth(),b.getDate())}function v(c,d){return c.getUTCFullYear()===d.getUTCFullYear()&&c.getUTCMonth()===d.getUTCMonth()&&c.getUTCDate()===d.getUTCDate()}function w(b){return function(){return this[b].apply(this,arguments)}}function x(a,j){function k(c,d){return d.toLowerCase()}var l,m=r(a).data(),n={},o=new RegExp("^"+j.toLowerCase()+"([A-Z])");j=new RegExp("^"+j.toLowerCase());for(var p in m){j.test(p)&&(l=p.replace(o,k),n[l]=m[p])}return n}function y(a){var e={};if(G[a]||(a=a.split("-")[0],G[a])){var f=G[a];return r.each(F,function(c,d){d in f&&(e[d]=f[d])}),e}}var z=function(){var a={get:function(b){return this.slice(b)[0]},contains:function(e){for(var f=e&&e.valueOf(),g=0,h=this.length;h>g;g++){if(this[g].valueOf()===f){return g}}return -1},remove:function(b){this.splice(b,1)},replace:function(c){c&&(r.isArray(c)||(c=[c]),this.clear(),this.push.apply(this,c))},clear:function(){this.length=0},copy:function(){var b=new z;return b.replace(this),b}};return function(){var b=[];return b.push.apply(b,arguments),r.extend(b,a),b}}(),A=function(a,d){this._process_options(d),this.dates=new z,this.viewDate=this.o.defaultViewDate,this.focusDate=null,this.element=r(a),this.isInline=!1,this.isInput=this.element.is("input"),this.component=this.element.hasClass("date")?this.element.find(".add-on, .input-group-addon, .btn"):!1,this.hasInput=this.component&&this.element.find("input").length,this.component&&0===this.component.length&&(this.component=!1),this.picker=r(H.template),this._buildEvents(),this._attachEvents(),this.isInline?this.picker.addClass("datepicker-inline").appendTo(this.element):this.picker.addClass("datepicker-dropdown dropdown-menu"),this.o.rtl&&this.picker.addClass("datepicker-rtl"),this.viewMode=this.o.startView,this.o.calendarWeeks&&this.picker.find("tfoot .today, tfoot .clear").attr("colspan",function(c,e){return parseInt(e)+1}),this._allow_update=!1,this.setStartDate(this._o.startDate),this.setEndDate(this._o.endDate),this.setDaysOfWeekDisabled(this.o.daysOfWeekDisabled),this.setDatesDisabled(this.o.datesDisabled),this.fillDow(),this.fillMonths(),this._allow_update=!0,this.update(),this.showMode(),this.isInline&&this.show()};A.prototype={constructor:A,_process_options:function(a){this._o=r.extend({},this._o,a);var b=this.o=r.extend({},this._o),c=b.language;switch(G[c]||(c=c.split("-")[0],G[c]||(c=E.language)),b.language=c,b.startView){case 2:case"decade":b.startView=2;break;case 1:case"year":b.startView=1;break;default:b.startView=0}switch(b.minViewMode){case 1:case"months":b.minViewMode=1;break;case 2:case"years":b.minViewMode=2;break;default:b.minViewMode=0}b.startView=Math.max(b.startView,b.minViewMode),b.multidate!==!0&&(b.multidate=Number(b.multidate)||!1,b.multidate!==!1&&(b.multidate=Math.max(0,b.multidate))),b.multidateSeparator=String(b.multidateSeparator),b.weekStart%=7,b.weekEnd=(b.weekStart+6)%7;var d=H.parseFormat(b.format);if(b.startDate!==-1/0&&(b.startDate=b.startDate?b.startDate instanceof Date?this._local_to_utc(this._zero_time(b.startDate)):H.parseDate(b.startDate,d,b.language):-1/0),1/0!==b.endDate&&(b.endDate=b.endDate?b.endDate instanceof Date?this._local_to_utc(this._zero_time(b.endDate)):H.parseDate(b.endDate,d,b.language):1/0),b.daysOfWeekDisabled=b.daysOfWeekDisabled||[],r.isArray(b.daysOfWeekDisabled)||(b.daysOfWeekDisabled=b.daysOfWeekDisabled.split(/[,\s]*/)),b.daysOfWeekDisabled=r.map(b.daysOfWeekDisabled,function(e){return parseInt(e,10)}),b.datesDisabled=b.datesDisabled||[],!r.isArray(b.datesDisabled)){var n=[];n.push(H.parseDate(b.datesDisabled,d,b.language)),b.datesDisabled=n}b.datesDisabled=r.map(b.datesDisabled,function(e){return H.parseDate(e,d,b.language)});var p=String(b.orientation).toLowerCase().split(/\s+/g),q=b.orientation.toLowerCase();if(p=r.grep(p,function(e){return/^auto|left|right|top|bottom$/.test(e)}),b.orientation={x:"auto",y:"auto"},q&&"auto"!==q){if(1===p.length){switch(p[0]){case"top":case"bottom":b.orientation.y=p[0];break;case"left":case"right":b.orientation.x=p[0]}}else{q=r.grep(p,function(e){return/^left|right$/.test(e)}),b.orientation.x=q[0]||"auto",q=r.grep(p,function(e){return/^top|bottom$/.test(e)}),b.orientation.y=q[0]||"auto"}}else{}if(b.defaultViewDate){var I=b.defaultViewDate.year||(new Date).getFullYear(),J=b.defaultViewDate.month||0,K=b.defaultViewDate.day||1;b.defaultViewDate=t(I,J,K)}else{b.defaultViewDate=u()}b.showOnFocus=b.showOnFocus!==s?b.showOnFocus:!0},_events:[],_secondaryEvents:[],_applyEvents:function(b){for(var g,h,i,j=0;j<b.length;j++){g=b[j][0],2===b[j].length?(h=s,i=b[j][1]):3===b[j].length&&(h=b[j][1],i=b[j][2]),g.on(i,h)}},_unapplyEvents:function(b){for(var g,h,i,j=0;j<b.length;j++){g=b[j][0],2===b[j].length?(i=s,h=b[j][1]):3===b[j].length&&(i=b[j][1],h=b[j][2]),g.off(h,i)}},_buildEvents:function(){var a={keyup:r.proxy(function(c){-1===r.inArray(c.keyCode,[27,37,39,38,40,32,13,9])&&this.update()},this),keydown:r.proxy(this.keydown,this)};this.o.showOnFocus===!0&&(a.focus=r.proxy(this.show,this)),this.isInput?this._events=[[this.element,a]]:this.component&&this.hasInput?this._events=[[this.element.find("input"),a],[this.component,{click:r.proxy(this.show,this)}]]:this.element.is("div")?this.isInline=!0:this._events=[[this.element,{click:r.proxy(this.show,this)}]],this._events.push([this.element,"*",{blur:r.proxy(function(b){this._focused_from=b.target},this)}],[this.element,{blur:r.proxy(function(b){this._focused_from=b.target},this)}]),this._secondaryEvents=[[this.picker,{click:r.proxy(this.click,this)}],[r(window),{resize:r.proxy(this.place,this)}],[r(document),{"mousedown touchstart":r.proxy(function(b){this.element.is(b.target)||this.element.find(b.target).length||this.picker.is(b.target)||this.picker.find(b.target).length||this.hide()},this)}]]},_attachEvents:function(){this._detachEvents(),this._applyEvents(this._events)},_detachEvents:function(){this._unapplyEvents(this._events)},_attachSecondaryEvents:function(){this._detachSecondaryEvents(),this._applyEvents(this._secondaryEvents)},_detachSecondaryEvents:function(){this._unapplyEvents(this._secondaryEvents)},_trigger:function(a,f){var g=f||this.dates.get(-1),h=this._utc_to_local(g);this.element.trigger({type:a,date:h,dates:r.map(this.dates,this._utc_to_local),format:r.proxy(function(d,e){0===arguments.length?(d=this.dates.length-1,e=this.o.format):"string"==typeof d&&(e=d,d=this.dates.length-1),e=e||this.o.format;var i=this.dates.get(d);return H.formatDate(i,e,this.o.language)},this)})},show:function(){return this.element.attr("readonly")&&this.o.enableOnReadonly===!1?void 0:(this.isInline||this.picker.appendTo(this.o.container),this.place(),this.picker.show(),this._attachSecondaryEvents(),this._trigger("show"),(window.navigator.msMaxTouchPoints||"ontouchstart" in document)&&this.o.disableTouchKeyboard&&r(this.element).blur(),this)},hide:function(){return this.isInline?this:this.picker.is(":visible")?(this.focusDate=null,this.picker.hide().detach(),this._detachSecondaryEvents(),this.viewMode=this.o.startView,this.showMode(),this.o.forceParse&&(this.isInput&&this.element.val()||this.hasInput&&this.element.find("input").val())&&this.setValue(),this._trigger("hide"),this):this},remove:function(){return this.hide(),this._detachEvents(),this._detachSecondaryEvents(),this.picker.remove(),delete this.element.data().datepicker,this.isInput||delete this.element.data().date,this},_utc_to_local:function(b){return b&&new Date(b.getTime()+60000*b.getTimezoneOffset())},_local_to_utc:function(b){return b&&new Date(b.getTime()-60000*b.getTimezoneOffset())},_zero_time:function(b){return b&&new Date(b.getFullYear(),b.getMonth(),b.getDate())},_zero_utc_time:function(b){return b&&new Date(Date.UTC(b.getUTCFullYear(),b.getUTCMonth(),b.getUTCDate()))},getDates:function(){return r.map(this.dates,this._utc_to_local)},getUTCDates:function(){return r.map(this.dates,function(b){return new Date(b)})},getDate:function(){return this._utc_to_local(this.getUTCDate())},getUTCDate:function(){var b=this.dates.get(-1);return"undefined"!=typeof b?new Date(b):null},clearDates:function(){var b;this.isInput?b=this.element:this.component&&(b=this.element.find("input")),b&&b.val("").change(),this.update(),this._trigger("changeDate"),this.o.autoclose&&this.hide()},setDates:function(){var a=r.isArray(arguments[0])?arguments[0]:arguments;return this.update.apply(this,a),this._trigger("changeDate"),this.setValue(),this},setUTCDates:function(){var a=r.isArray(arguments[0])?arguments[0]:arguments;return this.update.apply(this,r.map(a,this._utc_to_local)),this._trigger("changeDate"),this.setValue(),this},setDate:w("setDates"),setUTCDate:w("setUTCDates"),setValue:function(){var b=this.getFormattedDate();return this.isInput?this.element.val(b).change():this.component&&this.element.find("input").val(b).change(),this},getFormattedDate:function(a){a===s&&(a=this.o.format);var b=this.o.language;return r.map(this.dates,function(c){return H.formatDate(c,a,b)}).join(this.o.multidateSeparator)},setStartDate:function(b){return this._process_options({startDate:b}),this.update(),this.updateNavArrows(),this},setEndDate:function(b){return this._process_options({endDate:b}),this.update(),this.updateNavArrows(),this},setDaysOfWeekDisabled:function(b){return this._process_options({daysOfWeekDisabled:b}),this.update(),this.updateNavArrows(),this},setDatesDisabled:function(b){this._process_options({datesDisabled:b}),this.update(),this.updateNavArrows()},place:function(){if(this.isInline){return this}var a=this.picker.outerWidth(),I=this.picker.outerHeight(),J=10,K=r(this.o.container).width(),L=r(this.o.container).height(),M=r(this.o.container).scrollTop(),N=r(this.o.container).offset(),O=[];this.element.parents().each(function(){var c=r(this).css("z-index");"auto"!==c&&0!==c&&O.push(parseInt(c))});var P=Math.max.apply(Math,O)+10,Q=this.component?this.component.parent().offset():this.element.offset(),R=this.component?this.component.outerHeight(!0):this.element.outerHeight(!1),S=this.component?this.component.outerWidth(!0):this.element.outerWidth(!1),T=Q.left-N.left,U=Q.top-N.top;this.picker.removeClass("datepicker-orient-top datepicker-orient-bottom datepicker-orient-right datepicker-orient-left"),"auto"!==this.o.orientation.x?(this.picker.addClass("datepicker-orient-"+this.o.orientation.x),"right"===this.o.orientation.x&&(T-=a-S)):Q.left<0?(this.picker.addClass("datepicker-orient-left"),T-=Q.left-J):T+a>K?(this.picker.addClass("datepicker-orient-right"),T=Q.left+S-a):this.picker.addClass("datepicker-orient-left");var V,W,X=this.o.orientation.y;if("auto"===X&&(V=-M+U-I,W=M+L-(U+R+I),X=Math.max(V,W)===W?"top":"bottom"),this.picker.addClass("datepicker-orient-"+X),"top"===X?U+=R:U-=I+parseInt(this.picker.css("padding-top")),this.o.rtl){var Y=K-(T+S);this.picker.css({top:U,right:Y,zIndex:P})}else{this.picker.css({top:U,left:T,zIndex:P})}return this},_allow_update:!0,update:function(){if(!this._allow_update){return this}var a=this.dates.copy(),e=[],f=!1;return arguments.length?(r.each(arguments,r.proxy(function(c,d){d instanceof Date&&(d=this._local_to_utc(d)),e.push(d)},this)),f=!0):(e=this.isInput?this.element.val():this.element.data("date")||this.element.find("input").val(),e=e&&this.o.multidate?e.split(this.o.multidateSeparator):[e],delete this.element.data().date),e=r.map(e,r.proxy(function(b){return H.parseDate(b,this.o.format,this.o.language)},this)),e=r.grep(e,r.proxy(function(b){return b<this.o.startDate||b>this.o.endDate||!b},this),!0),this.dates.replace(e),this.dates.length?this.viewDate=new Date(this.dates.get(-1)):this.viewDate<this.o.startDate?this.viewDate=new Date(this.o.startDate):this.viewDate>this.o.endDate&&(this.viewDate=new Date(this.o.endDate)),f?this.setValue():e.length&&String(a)!==String(this.dates)&&this._trigger("changeDate"),!this.dates.length&&a.length&&this._trigger("clearDate"),this.fill(),this},fillDow:function(){var d=this.o.weekStart,e="<tr>";if(this.o.calendarWeeks){this.picker.find(".datepicker-days thead tr:first-child .datepicker-switch").attr("colspan",function(c,g){return parseInt(g)+1});var f='<th class="cw">&#160;</th>';e+=f}for(;d<this.o.weekStart+7;){e+='<th class="dow">'+G[this.o.language].daysMin[d++%7]+"</th>"}e+="</tr>",this.picker.find(".datepicker-days thead").append(e)},fillMonths:function(){for(var c="",d=0;12>d;){c+='<span class="month">'+G[this.o.language].monthsShort[d++]+"</span>"}this.picker.find(".datepicker-months td").html(c)},setRange:function(a){a&&a.length?this.range=r.map(a,function(b){return b.valueOf()}):delete this.range,this.fill()},getClassNames:function(a){var e=[],h=this.viewDate.getUTCFullYear(),i=this.viewDate.getUTCMonth(),j=new Date;return a.getUTCFullYear()<h||a.getUTCFullYear()===h&&a.getUTCMonth()<i?e.push("old"):(a.getUTCFullYear()>h||a.getUTCFullYear()===h&&a.getUTCMonth()>i)&&e.push("new"),this.focusDate&&a.valueOf()===this.focusDate.valueOf()&&e.push("focused"),this.o.todayHighlight&&a.getUTCFullYear()===j.getFullYear()&&a.getUTCMonth()===j.getMonth()&&a.getUTCDate()===j.getDate()&&e.push("today"),-1!==this.dates.contains(a)&&e.push("active"),(a.valueOf()<this.o.startDate||a.valueOf()>this.o.endDate||-1!==r.inArray(a.getUTCDay(),this.o.daysOfWeekDisabled))&&e.push("disabled"),this.o.datesDisabled.length>0&&r.grep(this.o.datesDisabled,function(b){return v(a,b)}).length>0&&e.push("disabled","disabled-date"),this.range&&(a>this.range[0]&&a<this.range[this.range.length-1]&&e.push("range"),-1!==r.inArray(a.valueOf(),this.range)&&e.push("selected")),e},fill:function(){var p,I=new Date(this.viewDate),K=I.getUTCFullYear(),L=I.getUTCMonth(),M=this.o.startDate!==-1/0?this.o.startDate.getUTCFullYear():-1/0,N=this.o.startDate!==-1/0?this.o.startDate.getUTCMonth():-1/0,O=1/0!==this.o.endDate?this.o.endDate.getUTCFullYear():1/0,P=1/0!==this.o.endDate?this.o.endDate.getUTCMonth():1/0,Q=G[this.o.language].today||G.en.today||"",R=G[this.o.language].clear||G.en.clear||"";if(!isNaN(K)&&!isNaN(L)){this.picker.find(".datepicker-days thead .datepicker-switch").text(G[this.o.language].months[L]+" "+K),this.picker.find("tfoot .today").text(Q).toggle(this.o.todayBtn!==!1),this.picker.find("tfoot .clear").text(R).toggle(this.o.clearBtn!==!1),this.updateNavArrows(),this.fillMonths();var S=t(K,L-1,28),T=H.getDaysInMonth(S.getUTCFullYear(),S.getUTCMonth());S.setUTCDate(T),S.setUTCDate(T-(S.getUTCDay()-this.o.weekStart+7)%7);var U=new Date(S);U.setUTCDate(U.getUTCDate()+42),U=U.valueOf();for(var V,W=[];S.valueOf()<U;){if(S.getUTCDay()===this.o.weekStart&&(W.push("<tr>"),this.o.calendarWeeks)){var X=new Date(+S+(this.o.weekStart-S.getUTCDay()-7)%7*86400000),Y=new Date(Number(X)+(11-X.getUTCDay())%7*86400000),Z=new Date(Number(Z=t(Y.getUTCFullYear(),0,1))+(11-Z.getUTCDay())%7*86400000),aa=(Y-Z)/86400000/7+1;W.push('<td class="cw">'+aa+"</td>")}if(V=this.getClassNames(S),V.push("day"),this.o.beforeShowDay!==r.noop){var ab=this.o.beforeShowDay(this._utc_to_local(S));ab===s?ab={}:"boolean"==typeof ab?ab={enabled:ab}:"string"==typeof ab&&(ab={classes:ab}),ab.enabled===!1&&V.push("disabled"),ab.classes&&(V=V.concat(ab.classes.split(/\s+/))),ab.tooltip&&(p=ab.tooltip)}V=r.unique(V),W.push('<td class="'+V.join(" ")+'"'+(p?' title="'+p+'"':"")+">"+S.getUTCDate()+"</td>"),p=null,S.getUTCDay()===this.o.weekEnd&&W.push("</tr>"),S.setUTCDate(S.getUTCDate()+1)}this.picker.find(".datepicker-days tbody").empty().append(W.join(""));var ac=this.picker.find(".datepicker-months").find("th:eq(1)").text(K).end().find("span").removeClass("active");if(r.each(this.dates,function(d,e){e.getUTCFullYear()===K&&ac.eq(e.getUTCMonth()).addClass("active")}),(M>K||K>O)&&ac.addClass("disabled"),K===M&&ac.slice(0,N).addClass("disabled"),K===O&&ac.slice(P+1).addClass("disabled"),this.o.beforeShowMonth!==r.noop){var a=this;r.each(ac,function(f,g){if(!r(g).hasClass("disabled")){var h=new Date(K,f,1),i=a.o.beforeShowMonth(h);i===!1&&r(g).addClass("disabled")}})}W="",K=10*parseInt(K/10,10);var b=this.picker.find(".datepicker-years").find("th:eq(1)").text(K+"-"+(K+9)).end().find("td");K-=1;for(var c,q=r.map(this.dates,function(d){return d.getUTCFullYear()}),J=-1;11>J;J++){c=["year"],-1===J?c.push("old"):10===J&&c.push("new"),-1!==r.inArray(K,q)&&c.push("active"),(M>K||K>O)&&c.push("disabled"),W+='<span class="'+c.join(" ")+'">'+K+"</span>",K+=1}b.html(W)}},updateNavArrows:function(){if(this._allow_update){var d=new Date(this.viewDate),e=d.getUTCFullYear(),f=d.getUTCMonth();switch(this.viewMode){case 0:this.picker.find(".prev").css(this.o.startDate!==-1/0&&e<=this.o.startDate.getUTCFullYear()&&f<=this.o.startDate.getUTCMonth()?{visibility:"hidden"}:{visibility:"visible"}),this.picker.find(".next").css(1/0!==this.o.endDate&&e>=this.o.endDate.getUTCFullYear()&&f>=this.o.endDate.getUTCMonth()?{visibility:"hidden"}:{visibility:"visible"});break;case 1:case 2:this.picker.find(".prev").css(this.o.startDate!==-1/0&&e<=this.o.startDate.getUTCFullYear()?{visibility:"hidden"}:{visibility:"visible"}),this.picker.find(".next").css(1/0!==this.o.endDate&&e>=this.o.endDate.getUTCFullYear()?{visibility:"hidden"}:{visibility:"visible"})}}},click:function(a){a.preventDefault();var c,k,l,m=r(a.target).closest("span, td, th");if(1===m.length){switch(m[0].nodeName.toLowerCase()){case"th":switch(m[0].className){case"datepicker-switch":this.showMode(1);break;case"prev":case"next":var n=H.modes[this.viewMode].navStep*("prev"===m[0].className?-1:1);switch(this.viewMode){case 0:this.viewDate=this.moveMonth(this.viewDate,n),this._trigger("changeMonth",this.viewDate);break;case 1:case 2:this.viewDate=this.moveYear(this.viewDate,n),1===this.viewMode&&this._trigger("changeYear",this.viewDate)}this.fill();break;case"today":var o=new Date;o=t(o.getFullYear(),o.getMonth(),o.getDate(),0,0,0),this.showMode(-2);var p="linked"===this.o.todayBtn?null:"view";this._setDate(o,p);break;case"clear":this.clearDates()}break;case"span":m.hasClass("disabled")||(this.viewDate.setUTCDate(1),m.hasClass("month")?(l=1,k=m.parent().find("span").index(m),c=this.viewDate.getUTCFullYear(),this.viewDate.setUTCMonth(k),this._trigger("changeMonth",this.viewDate),1===this.o.minViewMode&&this._setDate(t(c,k,l))):(l=1,k=0,c=parseInt(m.text(),10)||0,this.viewDate.setUTCFullYear(c),this._trigger("changeYear",this.viewDate),2===this.o.minViewMode&&this._setDate(t(c,k,l))),this.showMode(-1),this.fill());break;case"td":m.hasClass("day")&&!m.hasClass("disabled")&&(l=parseInt(m.text(),10)||1,c=this.viewDate.getUTCFullYear(),k=this.viewDate.getUTCMonth(),m.hasClass("old")?0===k?(k=11,c-=1):k-=1:m.hasClass("new")&&(11===k?(k=0,c+=1):k+=1),this._setDate(t(c,k,l)))}}this.picker.is(":visible")&&this._focused_from&&r(this._focused_from).focus(),delete this._focused_from},_toggle_multidate:function(c){var d=this.dates.contains(c);if(c||this.dates.clear(),-1!==d?(this.o.multidate===!0||this.o.multidate>1||this.o.toggleActive)&&this.dates.remove(d):this.o.multidate===!1?(this.dates.clear(),this.dates.push(c)):this.dates.push(c),"number"==typeof this.o.multidate){for(;this.dates.length>this.o.multidate;){this.dates.remove(0)}}},_setDate:function(d,e){e&&"date"!==e||this._toggle_multidate(d&&new Date(d)),e&&"view"!==e||(this.viewDate=d&&new Date(d)),this.fill(),this.setValue(),e&&"view"===e||this._trigger("changeDate");var f;this.isInput?f=this.element:this.component&&(f=this.element.find("input")),f&&f.change(),!this.o.autoclose||e&&"date"!==e||this.hide()},moveMonth:function(b,k){if(!b){return s}if(!k){return b}var l,m,n=new Date(b.valueOf()),o=n.getUTCDate(),p=n.getUTCMonth(),q=Math.abs(k);if(k=k>0?1:-1,1===q){m=-1===k?function(){return n.getUTCMonth()===p}:function(){return n.getUTCMonth()!==l},l=p+k,n.setUTCMonth(l),(0>l||l>11)&&(l=(l+12)%12)}else{for(var I=0;q>I;I++){n=this.moveMonth(n,k)}l=n.getUTCMonth(),n.setUTCDate(o),m=function(){return l!==n.getUTCMonth()}}for(;m();){n.setUTCDate(--o),n.setUTCMonth(l)}return n},moveYear:function(c,d){return this.moveMonth(c,12*d)},dateWithinRange:function(b){return b>=this.o.startDate&&b<=this.o.endDate},keydown:function(d){if(!this.picker.is(":visible")){return void (27===d.keyCode&&this.show())}var i,j,k,l=!1,m=this.focusDate||this.viewDate;switch(d.keyCode){case 27:this.focusDate?(this.focusDate=null,this.viewDate=this.dates.get(-1)||this.viewDate,this.fill()):this.hide(),d.preventDefault();break;case 37:case 39:if(!this.o.keyboardNavigation){break}i=37===d.keyCode?-1:1,d.ctrlKey?(j=this.moveYear(this.dates.get(-1)||u(),i),k=this.moveYear(m,i),this._trigger("changeYear",this.viewDate)):d.shiftKey?(j=this.moveMonth(this.dates.get(-1)||u(),i),k=this.moveMonth(m,i),this._trigger("changeMonth",this.viewDate)):(j=new Date(this.dates.get(-1)||u()),j.setUTCDate(j.getUTCDate()+i),k=new Date(m),k.setUTCDate(m.getUTCDate()+i)),this.dateWithinRange(k)&&(this.focusDate=this.viewDate=k,this.setValue(),this.fill(),d.preventDefault());break;case 38:case 40:if(!this.o.keyboardNavigation){break}i=38===d.keyCode?-1:1,d.ctrlKey?(j=this.moveYear(this.dates.get(-1)||u(),i),k=this.moveYear(m,i),this._trigger("changeYear",this.viewDate)):d.shiftKey?(j=this.moveMonth(this.dates.get(-1)||u(),i),k=this.moveMonth(m,i),this._trigger("changeMonth",this.viewDate)):(j=new Date(this.dates.get(-1)||u()),j.setUTCDate(j.getUTCDate()+7*i),k=new Date(m),k.setUTCDate(m.getUTCDate()+7*i)),this.dateWithinRange(k)&&(this.focusDate=this.viewDate=k,this.setValue(),this.fill(),d.preventDefault());break;case 32:break;case 13:m=this.focusDate||this.dates.get(-1)||this.viewDate,this.o.keyboardNavigation&&(this._toggle_multidate(m),l=!0),this.focusDate=null,this.viewDate=this.dates.get(-1)||this.viewDate,this.setValue(),this.fill(),this.picker.is(":visible")&&(d.preventDefault(),"function"==typeof d.stopPropagation?d.stopPropagation():d.cancelBubble=!0,this.o.autoclose&&this.hide());break;case 9:this.focusDate=null,this.viewDate=this.dates.get(-1)||this.viewDate,this.fill(),this.hide()}if(l){this._trigger(this.dates.length?"changeDate":"clearDate");var n;this.isInput?n=this.element:this.component&&(n=this.element.find("input")),n&&n.change()}},showMode:function(b){b&&(this.viewMode=Math.max(this.o.minViewMode,Math.min(2,this.viewMode+b))),this.picker.children("div").hide().filter(".datepicker-"+H.modes[this.viewMode].clsName).css("display","block"),this.updateNavArrows()}};var B=function(a,d){this.element=r(a),this.inputs=r.map(d.inputs,function(b){return b.jquery?b[0]:b}),delete d.inputs,D.call(r(this.inputs),d).bind("changeDate",r.proxy(this.dateUpdated,this)),this.pickers=r.map(this.inputs,function(c){return r(c).data("datepicker")}),this.updateDates()};B.prototype={updateDates:function(){this.dates=r.map(this.pickers,function(b){return b.getUTCDate()}),this.updateRanges()},updateRanges:function(){var a=r.map(this.dates,function(b){return b.valueOf()});r.each(this.pickers,function(b,d){d.setRange(a)})},dateUpdated:function(a){if(!this.updating){this.updating=!0;var i=r(a.target).data("datepicker"),j=i.getUTCDate(),k=r.inArray(a.target,this.inputs),l=k-1,m=k+1,n=this.inputs.length;if(-1!==k){if(r.each(this.pickers,function(c,d){d.getUTCDate()||d.setUTCDate(j)}),j<this.dates[l]){for(;l>=0&&j<this.dates[l];){this.pickers[l--].setUTCDate(j)}}else{if(j>this.dates[m]){for(;n>m&&j>this.dates[m];){this.pickers[m++].setUTCDate(j)}}}this.updateDates(),delete this.updating}}},remove:function(){r.map(this.pickers,function(b){b.remove()}),delete this.element.data().datepicker}};var C=r.fn.datepicker,D=function(a){var b=Array.apply(null,arguments);b.shift();var f;return this.each(function(){var c=r(this),d=c.data("datepicker"),e="object"==typeof a&&a;if(!d){var g=x(this,"date"),h=r.extend({},E,g,e),j=y(h.language),k=r.extend({},E,j,g,e);if(c.hasClass("input-daterange")||k.inputs){var n={inputs:k.inputs||c.find("input").toArray()};c.data("datepicker",d=new B(this,r.extend(k,n)))}else{c.data("datepicker",d=new A(this,k))}}return"string"==typeof a&&"function"==typeof d[a]&&(f=d[a].apply(d,b),f!==s)?!1:void 0}),f!==s?f:this};r.fn.datepicker=D;var E=r.fn.datepicker.defaults={autoclose:!1,beforeShowDay:r.noop,beforeShowMonth:r.noop,calendarWeeks:!1,clearBtn:!1,toggleActive:!1,daysOfWeekDisabled:[],datesDisabled:[],endDate:1/0,forceParse:!0,format:"mm/dd/yyyy",keyboardNavigation:!0,language:"en",minViewMode:0,multidate:!1,multidateSeparator:",",orientation:"auto",rtl:!1,startDate:-1/0,startView:0,todayBtn:!1,todayHighlight:!1,weekStart:0,disableTouchKeyboard:!1,enableOnReadonly:!0,container:"body"},F=r.fn.datepicker.locale_opts=["format","rtl","weekStart"];r.fn.datepicker.Constructor=A;var G=r.fn.datepicker.dates={en:{days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday","Sunday"],daysShort:["Sun","Mon","Tue","Wed","Thu","Fri","Sat","Sun"],daysMin:["Su","Mo","Tu","We","Th","Fr","Sa","Su"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],monthsShort:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],today:"Today",clear:"Clear"}},H={modes:[{clsName:"days",navFnc:"Month",navStep:1},{clsName:"months",navFnc:"FullYear",navStep:1},{clsName:"years",navFnc:"FullYear",navStep:10}],isLeapYear:function(b){return b%4===0&&b%100!==0||b%400===0},getDaysInMonth:function(c,d){return[31,H.isLeapYear(c)?29:28,31,30,31,30,31,31,30,31,30,31][d]},validParts:/dd?|DD?|mm?|MM?|yy(?:yy)?/g,nonpunctuation:/[^ -\/:-@\[\u3400-\u9fff-`{-~\t\n\r]+/g,parseFormat:function(d){var e=d.replace(this.validParts,"\x00").split("\x00"),f=d.match(this.validParts);if(!e||!e.length||!f||0===f.length){throw new Error("Invalid date format.")}return{separators:e,parts:f}},parseDate:function(a,b,c){function j(){var d=this.slice(0,K[I].length),e=K[I].slice(0,d.length);return d.toLowerCase()===e.toLowerCase()}if(!a){return s}if(a instanceof Date){return a}"string"==typeof b&&(b=H.parseFormat(b));var p,q,I,J=/([\-+]\d+)([dmwy])/,K=a.match(/([\-+]\d+)([dmwy])/g);if(/^[\-+]\d+[dmwy]([\s,]+[\-+]\d+[dmwy])*$/.test(a)){for(a=new Date,I=0;I<K.length;I++){switch(p=J.exec(K[I]),q=parseInt(p[1]),p[2]){case"d":a.setUTCDate(a.getUTCDate()+q);break;case"m":a=A.prototype.moveMonth.call(A.prototype,a,q);break;case"w":a.setUTCDate(a.getUTCDate()+7*q);break;case"y":a=A.prototype.moveYear.call(A.prototype,a,q)}}return t(a.getUTCFullYear(),a.getUTCMonth(),a.getUTCDate(),0,0,0)}K=a&&a.match(this.nonpunctuation)||[],a=new Date;var L,M,N={},O=["yyyy","yy","M","MM","m","mm","d","dd"],P={yyyy:function(d,e){return d.setUTCFullYear(e)},yy:function(d,e){return d.setUTCFullYear(2000+e)},m:function(d,e){if(isNaN(d)){return d}for(e-=1;0>e;){e+=12}for(e%=12,d.setUTCMonth(e);d.getUTCMonth()!==e;){d.setUTCDate(d.getUTCDate()-1)}return d},d:function(d,e){return d.setUTCDate(e)}};P.M=P.MM=P.mm=P.m,P.dd=P.d,a=t(a.getFullYear(),a.getMonth(),a.getDate(),0,0,0);var Q=b.parts.slice();if(K.length!==Q.length&&(Q=r(Q).filter(function(d,e){return -1!==r.inArray(e,O)}).toArray()),K.length===Q.length){var R;for(I=0,R=Q.length;R>I;I++){if(L=parseInt(K[I],10),p=Q[I],isNaN(L)){switch(p){case"MM":M=r(G[c].months).filter(j),L=r.inArray(M[0],G[c].months)+1;break;case"M":M=r(G[c].monthsShort).filter(j),L=r.inArray(M[0],G[c].monthsShort)+1}}N[p]=L}var S,T;for(I=0;I<O.length;I++){T=O[I],T in N&&!isNaN(N[T])&&(S=new Date(a),P[T](S,N[T]),isNaN(S)||(a=S))}}return a},formatDate:function(a,i,j){if(!a){return""}"string"==typeof i&&(i=H.parseFormat(i));var k={d:a.getUTCDate(),D:G[j].daysShort[a.getUTCDay()],DD:G[j].days[a.getUTCDay()],m:a.getUTCMonth()+1,M:G[j].monthsShort[a.getUTCMonth()],MM:G[j].months[a.getUTCMonth()],yy:a.getUTCFullYear().toString().substring(2),yyyy:a.getUTCFullYear()};k.dd=(k.d<10?"0":"")+k.d,k.mm=(k.m<10?"0":"")+k.m,a=[];for(var l=r.extend([],i.separators),m=0,n=i.parts.length;n>=m;m++){l.length&&a.push(l.shift()),a.push(k[i.parts[m]])}return a.join("")},headTemplate:'<thead><tr><th class="prev">&#171;</th><th colspan="5" class="datepicker-switch"></th><th class="next">&#187;</th></tr></thead>',contTemplate:'<tbody><tr><td colspan="7"></td></tr></tbody>',footTemplate:'<tfoot><tr><th colspan="7" class="today"></th></tr><tr><th colspan="7" class="clear"></th></tr></tfoot>'};H.template='<div class="datepicker"><div class="datepicker-days"><table class=" table-condensed">'+H.headTemplate+"<tbody></tbody>"+H.footTemplate+'</table></div><div class="datepicker-months"><table class="table-condensed">'+H.headTemplate+H.contTemplate+H.footTemplate+'</table></div><div class="datepicker-years"><table class="table-condensed">'+H.headTemplate+H.contTemplate+H.footTemplate+"</table></div></div>",r.fn.datepicker.DPGlobal=H,r.fn.datepicker.noConflict=function(){return r.fn.datepicker=C,this},r.fn.datepicker.version="1.4.0",r(document).on("focus.datepicker.data-api click.datepicker.data-api",'[data-provide="datepicker"]',function(a){var d=r(this);d.data("datepicker")||(a.preventDefault(),D.call(d,"show"))}),r(function(){D.call(r('[data-provide="datepicker-inline"]'))})}(window.jQuery);
!function(c,d){"object"==typeof exports?module.exports=d():"function"==typeof define&&define.amd?define(d):c.Spinner=d()}(this,function(){function p(e,f){var g,h=document.createElement(e||"div");for(g in f){h[g]=f[g]}return h}function q(d){for(var e=1,f=arguments.length;f>e;e++){d.appendChild(arguments[e])}return d}function r(j,k,l,m){var n=["opacity",k,~~(100*j),l,m].join("-"),o=0.01+l/m*100,E=Math.max(1-(1-j)/k*(100-o),j),F=y.substring(0,y.indexOf("Animation")).toLowerCase(),G=F&&"-"+F+"-"||"";return A[n]||(B.insertRule("@"+G+"keyframes "+n+"{0%{opacity:"+E+"}"+o+"%{opacity:"+j+"}"+(o+0.01)+"%{opacity:1}"+(o+k)%100+"%{opacity:"+j+"}100%{opacity:"+E+"}}",B.cssRules.length),A[n]=1),n}function s(f,g){var h,i,j=f.style;if(void 0!==j[g]){return g}for(g=g.charAt(0).toUpperCase()+g.slice(1),i=0;i<z.length;i++){if(h=z[i]+g,void 0!==j[h]){return h}}}function t(d,e){for(var f in e){d.style[s(d,f)||f]=e[f]}return d}function u(e){for(var f=1;f<arguments.length;f++){var g=arguments[f];for(var h in g){void 0===e[h]&&(e[h]=g[h])}}return e}function v(c){for(var d={x:c.offsetLeft,y:c.offsetTop};c=c.offsetParent;){d.x+=c.offsetLeft,d.y+=c.offsetTop}return d}function w(b){return"undefined"==typeof this?new w(b):(this.opts=u(b||{},w.defaults,C),void 0)}function x(){function a(d,e){return p("<"+d+' xmlns="urn:schemas-microsoft.com:vml" class="spin-vml">',e)}B.addRule(".spin-vml","behavior:url(#default#VML)"),w.prototype.lines=function(b,c){function e(){return t(a("group",{coordsize:E+" "+E,coordorigin:-o+" "+-o}),{width:E,height:E})}function m(d,f,i){q(G,q(t(e(),{rotation:360/c.lines*d+"deg",left:~~f}),q(t(a("roundrect",{arcsize:c.corners}),{width:o,height:c.width,left:c.radius,top:-c.width>>1,filter:i}),a("fill",{color:c.color,opacity:c.opacity}),a("stroke",{opacity:0}))))}var n,o=c.length+c.width,E=2*o,F=2*-(c.width+c.length)+"px",G=t(e(),{position:"absolute",top:F,left:F});if(c.shadow){for(n=1;n<=c.lines;n++){m(n,-2,"progid:DXImageTransform.Microsoft.Blur(pixelradius=2,makeshadow=1,shadowopacity=.3)")}}for(n=1;n<=c.lines;n++){m(n)}return q(b,G)},w.prototype.opacity=function(f,g,h,i){var j=f.firstChild;i=i.shadow&&i.lines||0,j&&g+i<j.childNodes.length&&(j=j.childNodes[g+i],j=j&&j.firstChild,j=j&&j.firstChild,j&&(j.opacity=h))}}var y,z=["webkit","Moz","ms","O"],A={},B=function(){var a=p("style",{type:"text/css"});return q(document.getElementsByTagName("head")[0],a),a.sheet||a.styleSheet}(),C={lines:12,length:7,width:5,radius:10,rotate:0,corners:1,color:"#000",direction:1,speed:1,trail:100,opacity:0.25,fps:20,zIndex:2000000000,className:"spinner",top:"auto",left:"auto",position:"relative"};w.defaults={},u(w.prototype,{spin:function(a){this.stop();var e,g,j=this,E=j.opts,F=j.el=t(p(0,{className:E.className}),{position:E.position,width:0,zIndex:E.zIndex}),G=E.radius+E.length+E.width;if(a&&(a.insertBefore(F,a.firstChild||null),g=v(a),e=v(F),t(F,{left:("auto"==E.left?g.x-e.x+(a.offsetWidth>>1):parseInt(E.left,10)+G)+"px",top:("auto"==E.top?g.y-e.y+(a.offsetHeight>>1):parseInt(E.top,10)+G)+"px"})),F.setAttribute("role","progressbar"),j.lines(F,j.opts),!y){var H,I=0,J=(E.lines-1)*(1-E.direction)/2,K=E.fps,L=K/E.speed,M=(1-E.opacity)/(L*E.trail/100),N=L/E.lines;!function O(){I++;for(var b=0;b<E.lines;b++){H=Math.max(1-(I+(E.lines-b)*N)%L*M,E.opacity),j.opacity(F,b*E.direction+J,H,E)}j.timeout=j.el&&setTimeout(O,~~(1000/K))}()}return j},stop:function(){var b=this.el;return b&&(clearTimeout(this.timeout),b.parentNode&&b.parentNode.removeChild(b),this.el=void 0),this},lines:function(a,b){function c(d,f){return t(p(),{position:"absolute",width:b.length+b.width+"px",height:b.width+"px",background:d,boxShadow:f,transformOrigin:"left",transform:"rotate("+~~(360/b.lines*j+b.rotate)+"deg) translate("+b.radius+"px,0)",borderRadius:(b.corners*b.width>>1)+"px"})}for(var e,j=0,l=(b.lines-1)*(1-b.direction)/2;j<b.lines;j++){e=t(p(),{position:"absolute",top:1+~(b.width/2)+"px",transform:b.hwaccel?"translate3d(0,0,0)":"",opacity:b.opacity,animation:y&&r(b.opacity,b.trail,l+j*b.direction,b.lines)+" "+1/b.speed+"s linear infinite"}),b.shadow&&q(e,t(c("#000","0 0 4px #000"),{top:"2px"})),q(a,q(e,c(b.color,"0 0 1px rgba(0,0,0,.1)")))}return a},opacity:function(d,e,f){e<d.childNodes.length&&(d.childNodes[e].style.opacity=f)}});var D=t(p("group"),{behavior:"url(#default#VML)"});return !s(D,"transform")&&D.adj?x():y=s(D,"animation"),w});!function(c,d){"object"==typeof exports?module.exports=d():"function"==typeof define&&define.amd?define(["spin"],d):c.Ladda=d(c.Spinner)}(this,function(h){function i(e){if("undefined"==typeof e){return console.warn("Ladda button target must be defined."),void 0}e.querySelector(".ladda-label")||(e.innerHTML='<span class="ladda-label">'+e.innerHTML+"</span>");var g=l(e),o=document.createElement("span");o.className="ladda-spinner",e.appendChild(o);var p,q={start:function(){return e.setAttribute("disabled",""),e.setAttribute("data-loading",""),clearTimeout(p),g.spin(o),this.setProgress(0),this},startAfter:function(b){return clearTimeout(p),p=setTimeout(function(){q.start()},b),this},stop:function(){return e.removeAttribute("disabled"),e.removeAttribute("data-loading"),clearTimeout(p),p=setTimeout(function(){g.stop()},1000),this},toggle:function(){return this.isLoading()?this.stop():this.start(),this},setProgress:function(a){a=Math.max(Math.min(a,1),0);var d=e.querySelector(".ladda-progress");0===a&&d&&d.parentNode?d.parentNode.removeChild(d):(d||(d=document.createElement("div"),d.className="ladda-progress",e.appendChild(d)),d.style.width=(a||0)*e.offsetWidth+"px")},enable:function(){return this.stop(),this},disable:function(){return this.stop(),e.setAttribute("disabled",""),this},isLoading:function(){return e.hasAttribute("data-loading")}};return n.push(q),q}function j(b,f){f=f||{};var o=[];"string"==typeof b?o=m(document.querySelectorAll(b)):"object"==typeof b&&"string"==typeof b.nodeName&&(o=[b]);for(var p=0,q=o.length;q>p;p++){!function(){var c=o[p];if("function"==typeof c.addEventListener){var d=i(c),e=-1;c.addEventListener("click",function(){d.startAfter(1),"number"==typeof f.timeout&&(clearTimeout(e),e=setTimeout(d.stop,f.timeout)),"function"==typeof f.callback&&f.callback.apply(null,[d])},!1)}}()}}function k(){for(var c=0,d=n.length;d>c;c++){n[c].stop()}}function l(a){var o,p=a.offsetHeight;p>32&&(p*=0.8),a.hasAttribute("data-spinner-size")&&(p=parseInt(a.getAttribute("data-spinner-size"),10)),a.hasAttribute("data-spinner-color")&&(o=a.getAttribute("data-spinner-color"));var q=12,r=0.2*p,s=0.6*r,t=7>r?2:3;return new h({color:o||"#fff",lines:q,radius:r,length:s,width:t,zIndex:"auto",top:"auto",left:"auto",className:""})}function m(d){for(var e=[],f=0;f<d.length;f++){e.push(d[f])}return e}var n=[];return{bind:j,create:i,stopAll:k}});
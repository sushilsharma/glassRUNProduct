!function(){angular.module("ion-datetime-picker",["ionic"]).directive("ionDatetimePicker",function(){return{restrict:"AE",require:"ngModel",scope:{modelDate:"=ngModel",title:"=?",subTitle:"=?",buttonOk:"=?",buttonCancel:"=?",monthStep:"=?",hourStep:"=?",minuteStep:"=?",secondStep:"=?",onlyValid:"=?"},controller:["$scope","$ionicPopup","$ionicPickerI18n","$timeout",function(h,r,m,j){function b(a,c){c=c||0,0!==c&&a.setDate(a.getDate()+c),k.year=a.getFullYear(),k.month=a.getMonth(),k.day=a.getDate(),k.hour=a.getHours(),k.minute=a.getMinutes(),k.second=a.getSeconds(),k.date=a}function p(){var a=new Date(h.year,h.month,h.day,h.hour,h.minute,h.second);h.isEnabled(a.getDate(),!0)?b(a):(h.year=k.year,h.month=k.month,h.day=k.day,h.hour=k.hour,h.minute=k.minute,h.second=k.second)}function f(a){var d=new Date(a),c=isNaN(d.getTime());return c&&(d=new Date),d.setHours(0,0,0,0,0),d}h.i18n=m,h.bind={},h.rows=[0,1,2,3,4,5],h.cols=[1,2,3,4,5,6,7],h.weekdays=[0,1,2,3,4,5,6];var k={year:h.year,month:h.month,day:h.day,hour:h.hour,minute:h.minute,second:h.second,date:new Date,getDateWithoutTime:function(){var a=new Date(this.date);return a.setHours(0,0,0,0,0),a}};h.showPopup=function(){r.show({templateUrl:"lib/ion-datetime-picker/src/picker-popup.html",title:h.title||"Pick "+(h.dateEnabled?"a date":"")+(h.dateEnabled&&h.timeEnabled?" and ":"")+(h.timeEnabled?"a time":""),subTitle:h.subTitle||"",scope:h,cssClass:"ion-datetime-picker-popup",buttons:[{text:h.buttonOk||h.i18n.ok,type:h.i18n.okClass,onTap:function(){h.commit()}},{text:h.buttonCancel||h.i18n.cancel,type:h.i18n.cancelClass,onTap:function(){j(function(){h.processModel()},200)}}]})},h.prepare=function(){h.mondayFirst&&h.weekdays.push(h.weekdays.shift())},h.processModel=function(){var a=h.modelDate instanceof Date?h.modelDate:new Date;h.year=h.dateEnabled?a.getFullYear():0,h.month=h.dateEnabled?a.getMonth():0,h.day=h.dateEnabled?a.getDate():0,h.hour=h.timeEnabled?a.getHours():0,h.minute=h.timeEnabled?a.getMinutes():0,h.second=h.secondsEnabled?a.getSeconds():0,q()};var q=function(){p();var a=new Date(h.year,h.month,h.day,h.hour,h.minute,h.second);h.dateEnabled&&(h.year=a.getFullYear(),h.month=a.getMonth(),h.day=a.getDate(),h.bind.year=h.year,h.bind.month=h.month,h.firstDay=new Date(h.year,h.month,1).getDay(),h.mondayFirst&&(h.firstDay=(h.firstDay||7)-1),h.daysInMonth=g(h.year,h.month)),h.timeEnabled&&(h.hour=a.getHours(),h.minute=a.getMinutes(),h.second=a.getSeconds(),h.meridiem=h.hour<12?"AM":"PM",h.bind.hour=h.meridiemEnabled?(h.hour%12||12).toString():h.hour.toString(),h.bind.minute=(h.minute<10?"0":"")+h.minute.toString(),h.bind.second=(h.second<10?"0":"")+h.second.toString(),h.bind.meridiem=h.meridiem)},g=function(a,c){return new Date(a,c+1,0).getDate()};h.changeBy=function(d,c){if(+d){if(("hour"===c||"minute"===c)&&d===-1){var a=new Date(h.year,h.month,h.day,h.hour-1,h.minute);0!==h.minute&&"hour"!==c||h.hour!==a.getHours()||h.hour--}h[c]+=+d,"month"!==c&&"year"!==c||(h.day=Math.min(h.day,g(h.year,h.month))),q()}},h.change=function(c){var a=h.bind[c];a&&"meridiem"===c?(a=a.toUpperCase(),"AM"===a&&"PM"===h.meridiem?h.hour-=12:"PM"===a&&"AM"===h.meridiem&&(h.hour+=12),q()):(+a||0===+a)&&(h[c]=+a,"month"!==c&&"year"!==c||(h.day=Math.min(h.day,g(h.year,h.month))),q())},h.changeDay=function(a){h.day=a,q()},h.isEnabled=function(B,x){if(!h.onlyValid){return !0}var v=new Date(h.year,h.month,B),y=h.onlyValid;y instanceof Array||(y=[y]);for(var A=!0,c=0;c<y.length;c++){var z=y[c];if(z.after){var C=f(z.after);z.inclusive?(A=v>=C,!A&&x&&b(C,0)):(A=v>C,!A&&x&&b(C,1))}else{if(z.before){var w=f(z.before);z.inclusive?(A=v<=w,!A&&x&&b(w,0)):(A=v<w,!A&&x&&b(w,-1))}else{if(z.between){var a=f(z.between.initial),l=f(z.between["final"]);z.inclusive?(A=v>=a&&v<=l,!A&&x&&(v<a&&b(a,0),v>l&&b(l,0))):(A=v>a&&v<l,!A&&x&&(v<=a&&b(a,1),v>=l&&b(l,-1)))}else{if(z.outside){var a=f(z.outside.initial),l=f(z.outside["final"]);if(z.inclusive){if(A=v<=a||v>=l,!A&&x){var e=k.getDateWithoutTime();e<=a&&b(l,0),e>=l&&b(a,0)}}else{if(A=v<a||v>l,!A&&x){var e=k.getDateWithoutTime();e<a&&b(l,1),e>l&&b(a,-1)}}}}}}if(!A){break}}return A},h.changed=function(){q()},h.dateEnabled&&h.$watch(function(){return(new Date).getDate()},function(){var a=new Date;h.today={day:a.getDate(),month:a.getMonth(),year:a.getFullYear()}})}],link:function(a,d,c,b){a.dateEnabled="date" in c&&"false"!==c.date,a.timeEnabled="time" in c&&"false"!==c.time,a.dateEnabled===!1&&a.timeEnabled===!1&&(a.dateEnabled=a.timeEnabled=!0),a.mondayFirst="mondayFirst" in c&&"false"!==c.mondayFirst,a.secondsEnabled=a.timeEnabled&&"seconds" in c&&"false"!==c.seconds,a.meridiemEnabled=a.timeEnabled&&"amPm" in c&&"false"!==c.amPm,a.monthStep=+a.monthStep||1,a.hourStep=+a.hourStep||1,a.minuteStep=+a.minuteStep||1,a.secondStep=+a.secondStep||1,a.prepare(),b.$render=function(){a.modelDate=b.$viewValue,a.processModel()},a.commit=function(){a.modelDate=new Date(a.year,a.month,a.day,a.hour,a.minute,a.second),b.$setViewValue(a.modelDate)},d.on("click",a.showPopup)}}}),angular.module("ion-datetime-picker").factory("$ionicPickerI18n",["$window",function(a){return{ok:"OK",cancel:"Cancel",okClass:"button-positive",cancelClass:"button-stable",arrowButtonClass:"button-positive",weekdays:a.moment?a.moment.weekdaysMin():["Su","Mo","Tu","We","Th","Fr","Sa"],months:a.moment?a.moment.months():["January","February","March","April","May","June","July","August","September","October","November","December"]}}]),angular.module("ion-datetime-picker").run(["$templateCache",function(a){a.put("lib/ion-datetime-picker/src/picker-popup.html",'<div class="ion-datetime-picker"><div ng-if-start="dateEnabled" class="row month-year"><div class="col col-10 left-arrow"><button type="button" class="button button-small button-clear icon ion-chevron-left" ng-class="i18n.arrowButtonClass" ng-click="changeBy(-monthStep, \'month\')"></button></div><label class="col col-50 month-input"><div class="item item-input item-select"><select ng-model="bind.month" ng-options="i18n.months.indexOf(month) as month for month in i18n.months" ng-change="change(\'month\')"></select></div></label> <label class="col year-input"><div class="item item-input"><div><input type="number" ng-model="bind.year" min="1900" max="2999" ng-change="change(\'year\')" ng-blur="changed()" required=""></div></div></label><div class="col col-10 right-arrow"><button type="button" class="button button-small button-clear icon ion-chevron-right" ng-class="i18n.arrowButtonClass" ng-click="changeBy(+monthStep, \'month\')"></button></div></div><div class="row calendar weekdays"><div class="col" ng-repeat="weekday in weekdays"><div class="weekday">{{i18n.weekdays[weekday]}}</div></div></div><div ng-if-end="" class="row calendar days" ng-repeat="y in rows"><div class="col" ng-repeat="x in cols"><div ng-show="(cellDay = y * 7 + x - firstDay) > 0 && cellDay <= daysInMonth" ng-click="changeDay(cellDay)" class="day" ng-class="{ \'disabled\': !isEnabled(cellDay), \'selected\': cellDay === day, \'today\': cellDay === today.day && month === today.month && year === today.year }">{{cellDay}}</div></div></div><div ng-if-start="timeEnabled" class="row time-buttons"><div class="col"></div><div class="col-20"><button type="button" class="button button-clear icon ion-chevron-up" ng-class="i18n.arrowButtonClass" ng-click="changeBy(+hourStep, \'hour\')"></button></div><div class="col"></div><div class="col-20"><button type="button" class="button button-clear icon ion-chevron-up" ng-class="i18n.arrowButtonClass" ng-click="changeBy(+minuteStep, \'minute\')"></button></div><div ng-if-start="secondsEnabled" class="col"></div><div ng-if-end="" class="col-20"><button type="button" class="button button-clear icon ion-chevron-up" ng-class="i18n.arrowButtonClass" ng-click="changeBy(+secondStep, \'second\')"></button></div><div ng-if-start="meridiemEnabled" class="col"></div><div ng-if-end="" class="col-20"><button type="button" class="button button-clear icon ion-chevron-up" ng-class="i18n.arrowButtonClass" ng-click="changeBy(+12, \'hour\')"></button></div><div class="col"></div></div><div class="row time"><div class="col"></div><label class="col col-20"><div class="item item-input"><div><input type="text" ng-model="bind.hour" pattern="0?([01]?[0-9]|2[0-3])" ng-change="change(\'hour\')" ng-blur="changed()" required=""></div></div></label><div class="col colon">:</div><label class="col col-20"><div class="item item-input"><div><input type="text" ng-model="bind.minute" pattern="0?[0-5]?[0-9]" ng-change="change(\'minute\')" ng-blur="changed()" required=""></div></div></label><div ng-if-start="secondsEnabled" class="col colon">:</div><label ng-if-end="" class="col col-20"><div class="item item-input"><div><input type="text" ng-model="bind.second" pattern="0?[0-5]?[0-9]" ng-change="change(\'second\')" ng-blur="changed()" required=""></div></div></label><div ng-if-start="meridiemEnabled" class="col"></div><label ng-if-end="" class="col col-20"><div class="item item-input"><div><input type="text" ng-model="bind.meridiem" pattern="[aApP][mM]" ng-change="change(\'meridiem\')" ng-blur="changed()" required=""></div></div></label><div class="col"></div></div><div ng-if-end="" class="row time-buttons"><div class="col"></div><div class="col-20"><button type="button" class="button button-clear icon ion-chevron-down" ng-class="i18n.arrowButtonClass" ng-click="changeBy(-hourStep, \'hour\')"></button></div><div class="col"></div><div class="col-20"><button type="button" class="button button-clear icon ion-chevron-down" ng-class="i18n.arrowButtonClass" ng-click="changeBy(-minuteStep, \'minute\')"></button></div><div ng-if-start="secondsEnabled" class="col"></div><div ng-if-end="" class="col-20"><button type="button" class="button button-clear icon ion-chevron-down" ng-class="i18n.arrowButtonClass" ng-click="changeBy(-secondStep, \'second\')"></button></div><div ng-if-start="meridiemEnabled" class="col"></div><div ng-if-end="" class="col-20"><button type="button" class="button button-clear icon ion-chevron-down" ng-class="i18n.arrowButtonClass" ng-click="changeBy(-12, \'hour\')"></button></div><div class="col"></div></div></div>')}])}();